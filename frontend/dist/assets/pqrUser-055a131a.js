import{z as j,e as _,U as y,k as M,_ as z,f as d,g as H,h as p,o as v,c as h,i as u,H as x,a as e,j as f,F,B as E,C as G,p as O,b as J}from"./index-9c8da60d.js";const K="/assets/5-86724fd3.png",W={store:j(),resolve(){this.store.setLoading(!1,"")},async getPqrsByPlaceId(a){this.store.setLoading(!0,"Cargando PQRS");try{const t=await _.get(`${y}/get-pqrs-by-place-id/${a}`);return t.status===200?(this.resolve(),t.data):(console.error("No se ha podido cargar las PQRS"),this.resolve(),null)}catch(t){throw console.error("Error al cargar las PQRS:",t),this.resolve(),new Error("Error al cargar las PQRS")}},async createPqrs(a){this.store.setLoading(!0,"Creando PQRS");try{const t=await _.post(`${y}/create_pqrs/`,a);return t.status===200?(this.resolve(),t.data):(console.error("No se ha podido crear la PQRS"),this.resolve(),null)}catch(t){throw console.error("Error al crear la PQRS:",t),this.resolve(),new Error("Error al crear la PQRS")}},async updatePqrs(a,t){this.store.setLoading(!0,"Editando PQRS");try{const i=await _.put(`${y}/update_pqrs/${t}`,a);return i.status===200?(this.resolve(),i.data):(console.error("No se ha podido crear la PQRS"),this.resolve(),null)}catch(i){throw console.error("Error al crear la PQRS:",i),this.resolve(),new Error("Error al crear la PQRS")}},async deletePqrs(a){this.store.setLoading(!0,"Eliminando PQRS");try{const t=await _.delete(`${y}/delete_pqrs/${a}`);return t.status===200?(this.resolve(),t.data):(console.error("No se ha podido crear la PQRS"),this.resolve(),null)}catch(t){throw console.error("Error al crear la PQRS:",t),this.resolve(),new Error("Error al crear la PQRS")}}},Q={router:M,async get(a,t,i={}){try{const n={headers:i.headers||{}},r=await _.get(a,n);return r.status===200?r.data:(console.error("An error occurred while fetching data:",r.status),null)}catch(n){return console.error("An error occurred while fetching data:",n),null}},async post(a,t,i,n=null){try{const r=await _.post(a,t);return r.status===200||r.status===201?(n&&this.router.push(n),r.data):(console.error("An error occurred while posting data:",r.status),null)}catch(r){return console.error("An error occurred while posting data:",r),null}},async put(a,t,i,n=null){try{const r=await _.put(a,t);return r.status===200||r.status===204?(n&&this.router.push(n),r.data):(console.error("An error occurred while updating data:",r.status),null)}catch(r){return console.error("An error occurred while updating data:",r),null}},async delete(a,t,i=null){try{const n=await _.delete(a);return n.status===200||n.status===204?(i&&this.router.push(i),n.data):(console.error("An error occurred while deleting data:",n.status),null)}catch(n){return console.error("An error occurred while deleting data:",n),null}}};const c=a=>(O("data-v-99a3caa4"),a=a(),J(),a),X={style:{height:"auto",color:"black","background-color":"white",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},Y=c(()=>e("h4",null,"Hemos recibido su solicitud y ha quedado registrada con el id ",-1)),Z=c(()=>e("br",null,null,-1)),ee={class:"text-center",style:{width:"auto","font-size":"3rem"}},te={style:{height:"auto",color:"black",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},oe=c(()=>e("br",null,null,-1)),se=c(()=>e("b",null,[e("p",{class:"text-center",style:{width:"auto","font-size":"3rem"}}," Muchas gracias")],-1)),re={class:"container mt-8 col-12 p-4 shadow-3",style:{"max-width":"400px",margin:"auto"}},le=c(()=>e("h2",{class:"mb-0"},[E("üî• "),e("b",null,"MONTER HELP"),E(" üî•")],-1)),ae=c(()=>e("h2",{style:{color:"var(--primary-color)"},class:"my-0"},[e("b",null,"Siempre te escuchamos")],-1)),ne=c(()=>e("img",{src:K},null,-1)),ie={class:"form",style:{width:"100%",display:"flex","flex-direction":"column",gap:"1rem"}},ue={class:"input"},ce=c(()=>e("h5",{class:"field"},"¬øC√≥mo te podemos ayudar?",-1)),de={key:0,class:"input"},pe=c(()=>e("h5",{class:"field"},"Sede",-1)),ve={key:1,class:"input"},he=c(()=>e("h5",{class:"field"},[E("ID de la orden ejemplo "),e("b",null,"BRE-0554")],-1)),_e={key:2,class:"input p-3",style:{"background-color":"#00f3ff29"}},me=c(()=>e("h5",{class:"field"},"Calif√≠canos",-1)),fe={key:3,class:"input"},ye=c(()=>e("h5",{class:"field"},"Comentarios",-1)),ge={key:4,class:"input"},we=c(()=>e("h5",{class:"field"},"Nombre",-1)),be={key:5,class:"input"},Se=c(()=>e("h5",{class:"field"},"N√∫mero de tel√©fono",-1)),Ve={key:6,class:"input"},Pe=c(()=>e("h5",{class:"field"},"Direcci√≥n (opcional)",-1)),xe={class:"input",style:{display:"flex","justify-content":"end"}},Ee={__name:"pqrUser",setup(a){const t=d(),i=d(!1),n=d([]),r=d(!1),o=d(),w=d(),U=d([]),I=d([]),R=d(""),b=d(""),S=d(""),k=d(""),V=d(""),P=d(null),L=async()=>{n.value=await W.getPqrsByPlaceId(1)},$=async()=>{var s,g;if(!o.value){alert("Por favor, seleccione un tipo de requerimiento.");return}if(o.value==9&&!R.value){alert("Por favor, ingrese el ID de la orden.");return}if(o.value!=8&&!V.value){alert("Por favor, Cuentenos lo sucedido");return}if(o.value!=8&&(!b.value||!S.value)){alert("Por favor, complete los campos obligatorios (nombre y tel√©fono).");return}if(!w.value){alert("Por favor, Seleccione la sede");return}if(o.value==8&&!P.value){alert("Por favor, Seleccione una calificacion");return}const N={data:{reques_type_id:o.value,content:V.value||"Sin comentarios",channel_id:1,rating:P.value||null,site_id:w.value||null,network_id:4},user:{user_name:b.value||"",user_phone:((s=S.value)==null?void 0:s.toString())||"",user_address:k.value||"",site_id:w.value||null}};try{const m=await Q.post(`${y}/create-pqr`,N);t.value=(g=m==null?void 0:m.pqr_id[0])==null?void 0:g.id,o.value==8?r.value=!0:i.value=!0}catch{}};return H(async()=>{L(),I.value=await Q.get(`${y}/get-all-pqrs-types`),U.value=await Q.get(`${y}/sites`),o.value=8}),(N,s)=>{const g=p("Button"),m=p("router-link"),C=p("Dialog"),D=p("Dropdown"),q=p("InputText"),A=p("Rating"),B=p("Textarea"),T=p("InputNumber");return v(),h(F,null,[u(C,{class:"mx-4",visible:i.value,"onUpdate:visible":s[0]||(s[0]=l=>i.value=l),modal:"",style:{width:"30rem","background-color":"white"}},{default:x(()=>[e("div",X,[Y,E(),Z,e("b",null,[e("p",ee,G(t.value),1)]),u(m,{to:"/"},{default:x(()=>[u(g,{class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})]),_:1})])]),_:1},8,["visible"]),u(C,{class:"mx-4",visible:r.value,"onUpdate:visible":s[1]||(s[1]=l=>r.value=l),modal:"",style:{width:"30rem","background-color":"white"}},{default:x(()=>[e("div",te,[oe,se,u(m,{to:"/"},{default:x(()=>[u(g,{class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})]),_:1})])]),_:1},8,["visible"]),e("div",re,[le,ae,ne,e("div",ie,[e("div",ue,[ce,u(D,{modelValue:o.value,"onUpdate:modelValue":s[2]||(s[2]=l=>o.value=l),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:I.value,optionLabel:"name"},null,8,["modelValue","options"])]),o.value?(v(),h("div",de,[pe,u(D,{options:U.value.filter(l=>l.show_on_web),modelValue:w.value,"onUpdate:modelValue":s[3]||(s[3]=l=>w.value=l),optionValue:"site_id",optionLabel:"site_name",style:{width:"100%"}},null,8,["options","modelValue"])])):f("",!0),o.value&&o.value==9?(v(),h("div",ve,[he,u(q,{modelValue:R.value,"onUpdate:modelValue":s[4]||(s[4]=l=>R.value=l),style:{width:"100%"},placeholder:"Escriba el n√∫mero de la orden"},null,8,["modelValue"])])):f("",!0),o.value&&(o.value==9||o.value==8)?(v(),h("div",_e,[me,u(A,{modelValue:P.value,"onUpdate:modelValue":s[5]||(s[5]=l=>P.value=l),cancel:!1},null,8,["modelValue"])])):f("",!0),o.value?(v(),h("div",fe,[ye,u(B,{modelValue:V.value,"onUpdate:modelValue":s[6]||(s[6]=l=>V.value=l),rows:"5",style:{width:"100%",resize:"none"},placeholder:"Deja tus comentarios"},null,8,["modelValue"])])):f("",!0),o.value&&o.value!=8?(v(),h("div",ge,[we,u(q,{modelValue:b.value,"onUpdate:modelValue":s[7]||(s[7]=l=>b.value=l),style:{width:"100%"},placeholder:"Escriba su nombre por favor"},null,8,["modelValue"])])):f("",!0),o.value&&o.value!=8?(v(),h("div",be,[Se,u(T,{modelValue:S.value,"onUpdate:modelValue":s[8]||(s[8]=l=>S.value=l),style:{width:"100%"},placeholder:"Escriba su n√∫mero de tel√©fono"},null,8,["modelValue"])])):f("",!0),o.value&&o.value!=8?(v(),h("div",Ve,[Pe,u(q,{modelValue:k.value,"onUpdate:modelValue":s[9]||(s[9]=l=>k.value=l),style:{width:"100%"},placeholder:"Escriba su direcci√≥n"},null,8,["modelValue"])])):f("",!0),e("div",xe,[u(g,{label:"Enviar",style:{"font-weight":"bold"},severity:"info",onClick:$})])])])],64)}}},ke=z(Ee,[["__scopeId","data-v-99a3caa4"]]);export{ke as default};
