import{D as T}from"./DialogoPedido-c1ba0856.js";import{u as v,o as r,c as a,b as t,t as c,d as i,e as D,f as C,g as O,r as B,a as p,h as y,F as x,i as b}from"./index-df1f671e.js";import{f as k}from"./formatoPesos-2a38d2e7.js";import"./reportes-d8b241e8.js";const E={style:{display:"flex","align-items":"center","justify-content":"space-between"}},I={style:{display:"flex","align-items":"center"}},S={style:{"min-width":"max-content",color:"black"}},F={style:{display:"flex",gap:"1rem","align-items":"center"}},$={style:{"min-width":"max-content"}},A={style:{color:"black"}},w={__name:"cuadreItem",props:{order:{type:Object,default:{}}},setup(g){const n=g,m=v(),h=()=>{m.setVisible("currentOrder",!0),m.setOrder(n.order)},f=l=>{const u=new Date(l);return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(u)};return(l,u)=>{var d,s;return r(),a("div",{onClick:h,class:"col-12 p-0",style:{"background-color":"rgba(255, 255, 255, 0.506)","border-radius":"0.5rem",cursor:"pointer"}},[t("div",E,[t("div",I,[t("b",S," #"+c((d=n.order)==null?void 0:d.order_id),1)]),t("span",F,[t("b",$,c(f((s=n.order)==null?void 0:s.latest_status_timestamp)),1),t("b",A,c(i(k)(n.order.total_order_price)),1)])])])}}},M={class:"grid mx-auto mb-8",style:{"max-width":"400px"}},R={id:"cuadre",class:"cuadre my-2 p-2 m-0",style:{width:"100%",top:"5rem",display:"flex","align-items":"center",position:"relative"}},j={class:"shadow-2 p-0 m-0",style:{width:"100%","border-radius":"0.5rem"}},N={class:"",style:{"background-color":"#ffffff61",width:"max-content",margin:"auto",padding:"1rem"}},P={class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},L=t("i",{class:"pi pi-history text-2xl"},null,-1),V=t("br",null,null,-1),U=t("br",null,null,-1),H=t("p",{class:"",style:{"background-color":"#00c510","text-align":"center",margin:"0"}},[t("span",{class:"text-center text-xl",style:{color:"black","font-weight":"bold"}}," Enviadas")],-1),z={style:{"overflow-y":"auto"}},J={class:"px-3 py-1"},Z=t("p",{class:"",style:{"background-color":"#ff4444","text-align":"center",margin:"0"}},[t("span",{class:"text-center text-xl",style:{color:"black","font-weight":"bold"}}," Canceladas")],-1),q={style:{"overflow-y":"auto"}},G={class:"px-3 py-1"},K=t("p",{class:"",style:{"background-color":"yellow","text-align":"center"}},[t("span",{class:"text-center text-xl",style:{color:"rgb(0, 0, 0)","font-weight":"bold"}}," Resumen")],-1),Q={class:"px-3 py-2 text-2xl",style:{display:"flex","font-weight":"bold",margin:"0","align-items":"center","justify-content":"space-between"}},W=t("div",{style:{display:"flex","align-items":"center"}},[t("b",{style:{"min-width":"max-content",color:"black"}}," CUADRE ")],-1),X={style:{color:"black"}},st={__name:"cuadre",setup(g){const n=v(),m=D(),h=new Date,f={timeZone:"America/Bogota",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},l=h.toLocaleString("es-CO",f);console.log(l);const u=C(()=>n.TodayOrders.filter(s=>s.current_status==="enviada").reduce((s,e)=>s+e.total_order_price,0));O(()=>{n.getTodayOrders()});const d=()=>{const s=document.getElementById("cuadre").innerHTML,e=window.open("","_blank");e.document.write("<html><head><title>Cuadre</title>");const _=document.getElementsByTagName("style");for(let o=0;o<_.length;o++)e.document.write(_[o].outerHTML);e.document.write("<style>  @media print {  html{height: min-content; box-shadow:none}  *{text-transform:uppercase;align-items:center; font-family: sans-serif;padding:0;margin:0; font-size:12pt !IMPORTANT} body { padding:0rem; -webkit-print-color-adjust: exact; /* Chrome, Safari */ color-adjust: exact; /* Firefox */ } }  </style>"),e.document.write("</head><body>"),e.document.write(s),e.document.write("</body></html>"),e.document.close(),e.print(),setTimeout(()=>{e.close()},.01)};return(s,e)=>{const _=B("Button");return r(),a("div",M,[p(T),t("div",R,[t("div",j,[t("p",N,[t("p",P,[L,y(),t("b",null,[y(" CUADRE DE CAJA "),V,y(" "+c(i(m).site.site_name)+" ",1),U,y(" "+c(i(l)),1)])])]),H,t("div",z,[(r(!0),a(x,null,b(i(n).TodayOrders.filter(o=>o.current_status=="enviada"),o=>(r(),a("div",J,[p(w,{order:o},null,8,["order"])]))),256))]),Z,t("div",q,[(r(!0),a(x,null,b(i(n).TodayOrders.filter(o=>o.current_status=="cancelada"),o=>(r(),a("div",G,[p(w,{order:o},null,8,["order"])]))),256))]),K,p(_,{style:{"border-radius":"50%",left:"100%",position:"absolute"},rounded:"",severity:"help",icon:"pi pi-print text-2xl",onClick:d}),t("div",Q,[W,t("b",X,c(i(k)(u.value)),1)])])])])}}};export{st as default};
