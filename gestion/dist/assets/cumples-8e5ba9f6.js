import{_ as S,y as N,r as a,O as z,o as C,b as h,d as k,e as P,f as s,g as e,j as o,h as A,U as x,l as b,t as y,v as E,x as T}from"./index-351d7858.js";import"./dropDownAux-31247fcf.js";import{g as L}from"./userServices-cc0b2596.js";const v=c=>(E("data-v-1c892d4c"),c=c(),T(),c),j={class:"grid"},B={class:"col-12"},D={class:""},F=v(()=>s("span",{class:"p-column-title"},"Image",-1)),R=["onClick","src","onError"],U=v(()=>s("div",null,null,-1)),V=v(()=>s("span",{class:"p-column-title"},"name",-1)),O=v(()=>s("span",{class:"p-column-title"},"Fecha de Nacimiento",-1)),G=v(()=>s("span",{class:"p-column-title"},"Category",-1)),J={__name:"ShowUserBirth",props:{mes:String},setup(c){N();const u=a([]);a(!1),a(!1),a(null);const g=a(null),w=a(null),$=a(null);a(!1),a(null),a(null),a({name:"activo",code:"active"}),a(null),a(!1),a(!1),a(!1),a(!1),a(null),a(null),a(null),a(null),a(null),a(null),a(null),a(null),a(null),a(""),a([]),a([]),a("file:///home/ludi/Downloads/9aa6397c673a5906ed994997df3a66bdc3e4f68dr1-194-259v2_00.jpg"),a(null),a(null);const p=c;document.getElementById("fileInput"),document.getElementById("imagePreview");function d(t,i){return t.filter(_=>new Date(_.birth_date).getMonth()+1===i&&(_==null?void 0:_.status.toLowerCase().split(" ")[0])==="activo")}z(()=>{}),C(async()=>{L().then(t=>u.value=t)}),console.log(d(u.value,3),"hikaaaaaaaaaaaaaa");const r=t=>{visibleImage.value=!0,bigImage.value=`${x}/read-product-image/600/employer-${t}`},f=(t,i)=>{const m={masculino:"/images/male-avatar.png",femenino:"/images/female-avatar.png",default:"/images/who.png"};!t||t==""?i.target.src=m.default:i.target.src=m[t.toLowerCase()]};return(t,i)=>{const m=h("Column"),_=h("DataTable");return k(),P("div",j,[s("div",B,[s("div",D,[e(_,{ref_key:"dt",ref:w,value:d(u.value,p.mes),selection:g.value,"onUpdate:selection":i[0]||(i[0]=l=>g.value=l),dataKey:"id",paginator:!0,rows:10,filters:$.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll",scrollable:"","scroll-height":"62vh",frozenValue:t.lockedCustomers},{header:o(()=>[]),default:o(()=>[e(m,{header:"Image",headerStyle:"width:5%; min-width:5rem;"},{body:o(l=>[F,s("div",null,[s("img",{onClick:I=>r(l.data.dni),src:`${A(x)}/read-product-image/96/employer-${l.data.dni}`,onError:I=>f(l.data.gender,I),class:"shadow-2 img-profile",style:{border:"none",position:"relative",height:"3rem",width:"3rem","object-fit":"cover","border-radius":"50%"}},null,40,R)]),U]),_:1}),e(m,{field:"name",header:"Nombre",sortable:!0,headerStyle:"width:max-content; min-width:5rem; "},{body:o(l=>[V,b(" "+y(l.data.name),1)]),_:1}),e(m,{field:"birth_date",header:"Fecha de Nacimiento",sortable:!0,headerStyle:"width:12%; min-width:10rem;"},{body:o(l=>[O,b(" "+y(l.data.birth_date),1)]),_:1}),e(m,{field:"position",header:"Cargo",sortable:!0,headerStyle:"width:auto; min-width:10rem;"},{body:o(l=>[G,b(" "+y(l.data.position),1)]),_:1})]),_:1},8,["value","selection","filters","frozenValue"])])])])}}},n=S(J,[["__scopeId","data-v-1c892d4c"]]);const M=c=>(E("data-v-c78293bc"),c=c(),T(),c),H={class:"cont"},K=M(()=>s("h5",{class:"m-auto col-12 text-center text-5xl",style:{"font-weight":"bold",color:""}},[b(" Cumples "),s("i",{class:"pi pi-spin pi-star-fill",style:{"font-size":"3rem"}})],-1)),Y={class:"m-auto col-12 text-center text-2xl"},Z={class:"lg:col-6 md:col-9 m-auto",style:{"border-radius":"1REM","box-shadow":"0 0 20px rgba(0, 0, 0, 0.433)","background-color":"rgb(255, 206, 206)"}},q={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Q=M(()=>s("h2",{class:"justify-center text-2xl",style:{height:"100%","font-weight":"bold"}}," Este mes ",-1)),W={__name:"cumples",setup(c){const u=a(""),g=a(),w=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];return C(async()=>{try{const d=await(await fetch(`${x}/server_time`)).json();if(!d||!d.trim())throw new Error("Respuesta del servidor no válida o vacía");const r=new Date(d.replace(" ","T")+"Z");if(isNaN(r.getTime()))throw new Error("La fecha del servidor no es válida");const f=r.getDate(),t=r.getMonth(),i=r.getFullYear();g.value=t,u.value=`${f} de ${w[t]} de ${i}`}catch(p){console.error("Error al obtener la hora del servidor:",p),u.value="Fecha no disponible"}}),(p,d)=>{const r=h("Avatar"),f=h("AvatarGroup"),t=h("AccordionTab"),i=h("Accordion");return k(),P("div",H,[K,s("h5",Y," Hoy: "+y(u.value),1),s("div",Z,[s("div",q,[Q,e(f,{class:"mb-3 avatar",onClick:d[0]||(d[0]=m=>p.$refs.currentCumple.click())},{default:o(()=>[e(r,{image:"demo/images/avatar/amyelsner.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(r,{image:"demo/images/avatar/asiyajavayant.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(r,{image:"demo/images/avatar/onyamalimba.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(r,{image:"demo/images/avatar/ionibowcher.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(r,{image:"demo/images/avatar/xuxuefeng.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(r,{label:"+2",shape:"circle",size:"xlarge",style:{"background-color":"#9c27b0",color:"#ffffff"}})]),_:1})]),e(i,{activeIndex:g.value},{default:o(()=>[e(t,{header:"Enero"},{default:o(()=>[e(n,{mes:1})]),_:1}),e(t,{header:"Febrero"},{default:o(()=>[e(n,{mes:2})]),_:1}),e(t,{header:"Marzo"},{default:o(()=>[e(n,{mes:3})]),_:1}),e(t,{header:"Abril"},{default:o(()=>[e(n,{mes:4})]),_:1}),e(t,{header:"Mayo"},{default:o(()=>[e(n,{mes:5})]),_:1}),e(t,{header:"Junio"},{default:o(()=>[e(n,{mes:6})]),_:1}),e(t,{header:"Julio"},{default:o(()=>[e(n,{mes:7})]),_:1}),e(t,{header:"Agosto"},{default:o(()=>[e(n,{mes:8})]),_:1}),e(t,{header:"Septiembre"},{default:o(()=>[e(n,{mes:9})]),_:1}),e(t,{header:"Octubre"},{default:o(()=>[e(n,{mes:10})]),_:1}),e(t,{header:"Noviembre"},{default:o(()=>[e(n,{mes:11})]),_:1}),e(t,{header:"Diciembre"},{default:o(()=>[e(n,{mes:12})]),_:1})]),_:1},8,["activeIndex"])])])}}},te=S(W,[["__scopeId","data-v-c78293bc"]]);export{te as default};
