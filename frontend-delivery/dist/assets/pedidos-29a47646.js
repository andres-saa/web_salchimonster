import{_ as x,d as u,l as I,a as t,c as o,e,F as _,f as v,u as i,U as k,j as p,m as $,t as n,q as z,n as h,v as y,b,h as j,i as C,w as S,k as m,s as N}from"./index-b55d10db.js";import{D as R}from"./dialogo-pedido-94224522.js";import"./state-392bb6ed.js";const V={class:"col-12"},B={class:"grid pedido align-items-center",style:{color:"white",cursor:"pointer"}},D=["src"],P={key:0,class:"pi pi-check",style:{"font-size":"3rem",color:"var(--primary-color)","font-weight":"bold"}},U={key:1,class:"pi pi-star-fill p-3",style:{"font-size":"3rem",color:"var(--primary-color)","font-weight":"bold"}},E={class:"col text-right m-3 p-0",style:{color:"black","font-weight":"bold","min-width":"max-content"}},F={class:"col text-right m-3 p-0",style:{color:"black","font-weight":"bold","min-width":"max-content"}},M={style:{position:"absolute",top:"50%",left:"50%","z-index":"99",transform:"translate(-50%, -50%)"}},O={__name:"pedidoItem",props:{order:{type:Object,default:{}},estado:{type:Object,default:{}}},setup(a){const d=a,c=u(0),s=u(parseInt(localStorage.getItem(d.order.order_id))||15*60),r=u(Math.floor(s.value/60)),l=u(s.value%60);function f(){d.order.order_status.status==="en preparacion"&&(s.value--,r.value=Math.floor(s.value/60),l.value=s.value%60,localStorage.setItem(d.order.order_id,s.value),c.value=(15*60-s.value)/(15*60)*100,s.value<=0&&(clearInterval(g),alert(`Se terminó el tiempo de preparación de la orden #${d.order.order_id}`)))}const g=setInterval(f,1e3);return I(()=>{clearInterval(g)}),(Q,W)=>(t(),o("div",V,[e("div",B,[(t(!0),o(_,null,v(a.order.order_products,w=>(t(),o("div",null,[e("img",{class:"",style:{width:"60px",height:"60px","object-fit":"contain"},src:`${i(k)}/read_product_image/96/${w.id}`,alt:""},null,8,D)]))),256)),a.estado.order_status=="enviada"?(t(),o("i",P)):p("",!0),a.estado.order_status=="generada"?(t(),o("i",U)):p("",!0),e("span",E,[$(" #"+n(a.order.order_id)+" ",1),e("span",F,n(i(z)(a.order.order_status.timestamp.hora)),1)]),a.order.order_status.status=="en preparacion"?(t(),o("div",{key:2,class:h([r.value==0&&l.value==0?"finalizado":"","countdown-timer m-3"]),style:y([{display:"flex","align-items":"center","justify-content":"center"},{borderRadius:"50%",position:"relative",width:"3rem",height:"3rem"}])},[e("div",M,n(r.value)+":"+n(l.value),1),e("div",{style:y({position:"absolute",width:"100%",height:"100%",borderRadius:"50%",clipPath:"polygon(0 0, 100% 0, 100% 100%, 0% 100%)"})},null,4)],2)):p("",!0)])]))}},T=x(O,[["__scopeId","data-v-617cb71d"]]);const q={style:{},class:"grid p-0"},A={class:"col-12 lg:col-6 xl:col-4 p-3",style:{}},L={class:"col-12 m-0 mb-3",style:{"background-color":"rgba(255, 255, 255, 0.493)","border-radius":"0.5rem"}},G={class:"text-2xl m-auto col-12",style:{"font-weight":"bold"}},H={class:"col-12 p-0",style:{height:"60vh","overflow-y":"auto"}},J={class:"col-12 p-0",style:{}},K={__name:"pedidos",setup(a){const d=c=>{N(c),m.value=!m.value};return(c,s)=>(t(),o(_,null,[e("div",q,[(t(!0),o(_,null,v(i(S),r=>(t(),o("div",A,[e("div",{class:h(["col-12 mb",r.name.split(" ")[0]]),style:{"border-radius":"1rem","box-shadow":"0px 0px 30px rgba(0, 0, 0, 0.3)"}},[e("div",L,[e("span",G,n(r.name),1)]),e("div",H,[(t(!0),o(_,null,v(i(j)(i(C),r.order_status),l=>(t(),o("div",J,[b(T,{id:`orden-${l.order_id}`,order:l,estado:r,onClick:f=>d(l)},null,8,["id","order","estado","onClick"])]))),256))])],2)]))),256))]),b(R),e("div",{class:h(i(m)?"before":"")},null,2)],64))}},ee=x(K,[["__scopeId","data-v-34774f0b"]]);export{ee as default};
