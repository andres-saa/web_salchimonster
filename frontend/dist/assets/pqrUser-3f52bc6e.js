import{z as H,e as R,U as _,_ as K,f as r,g as O,h as d,o as c,c as p,i as a,G as f,a as e,j as v,F as Y,B as y,C as N,K as T,p as J,b as W}from"./index-35a35cf6.js";import{f as k}from"./fetchService-49228b95.js";const X="/assets/5-86724fd3.png",Z={store:H(),resolve(){this.store.setLoading(!1,"")},async getPqrsByPlaceId(i){this.store.setLoading(!0,"Cargando PQRS");try{const l=await R.get(`${_}/get-pqrs-by-place-id/${i}`);return l.status===200?(this.resolve(),l.data):(console.error("No se ha podido cargar las PQRS"),this.resolve(),null)}catch(l){throw console.error("Error al cargar las PQRS:",l),this.resolve(),new Error("Error al cargar las PQRS")}},async createPqrs(i){this.store.setLoading(!0,"Creando PQRS");try{const l=await R.post(`${_}/create_pqrs/`,i);return l.status===200?(this.resolve(),l.data):(console.error("No se ha podido crear la PQRS"),this.resolve(),null)}catch(l){throw console.error("Error al crear la PQRS:",l),this.resolve(),new Error("Error al crear la PQRS")}},async updatePqrs(i,l){this.store.setLoading(!0,"Editando PQRS");try{const u=await R.put(`${_}/update_pqrs/${l}`,i);return u.status===200?(this.resolve(),u.data):(console.error("No se ha podido crear la PQRS"),this.resolve(),null)}catch(u){throw console.error("Error al crear la PQRS:",u),this.resolve(),new Error("Error al crear la PQRS")}},async deletePqrs(i){this.store.setLoading(!0,"Eliminando PQRS");try{const l=await R.delete(`${_}/delete_pqrs/${i}`);return l.status===200?(this.resolve(),l.data):(console.error("No se ha podido crear la PQRS"),this.resolve(),null)}catch(l){throw console.error("Error al crear la PQRS:",l),this.resolve(),new Error("Error al crear la PQRS")}}};const n=i=>(J("data-v-da6c038f"),i=i(),W(),i),ee={style:{height:"auto",color:"black","background-color":"white",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},oe=n(()=>e("h4",null,"Hemos recibido su solicitud y ha quedado registrada con el id ",-1)),te=n(()=>e("br",null,null,-1)),se={class:"text-center",style:{width:"auto","font-size":"3rem"}},le={style:{height:"auto",color:"black",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},ae=n(()=>e("br",null,null,-1)),re=n(()=>e("b",null,[e("p",{class:"text-center",style:{width:"auto","font-size":"3rem"}}," Muchas gracias")],-1)),ne={class:"container mt-8 col-12 p-4 shadow-3",style:{"max-width":"400px",margin:"auto"}},ie=n(()=>e("h2",{class:"mb-0"},[y("üî• "),e("b",null,"MONSTER AYUDA"),y(" üî•")],-1)),ue=n(()=>e("h2",{style:{color:"var(--primary-color)"},class:"my-0"},[e("b",null,"Cada dia mejoramos")],-1)),de=n(()=>e("img",{src:X},null,-1)),ce={class:"form",style:{width:"100%",display:"flex","flex-direction":"column",gap:"1rem"}},pe={class:"input"},ve=n(()=>e("h5",{class:"field"},"¬øC√≥mo te podemos ayudar?",-1)),_e={key:0,class:"input"},me=n(()=>e("h5",{class:"field"},"Por favor clasifica tu inconveniente",-1)),he={style:{display:"flex","align-items":"center",gap:"1rem"}},fe={class:"p-0 m-0"},ye={style:{display:"flex","align-items":"center",gap:"1rem"}},ge={class:"p-0 m-0"},be={key:1,class:"input"},we=n(()=>e("h5",{class:"field"},"Sede",-1)),Ve={key:2,class:"input"},Pe=n(()=>e("h5",{class:"field"},[y("ID de la orden ejemplo "),e("b",null,"BRE-0554")],-1)),Se={key:3,class:"input p-3",style:{"background-color":"#00f3ff29"}},xe=n(()=>e("h5",{class:"field"},"Calif√≠canos",-1)),Re={key:4,class:"input"},ke=n(()=>e("h5",{class:"field"},"Comentarios",-1)),Ee={key:5,class:"input"},qe=n(()=>e("h5",{class:"field"},"Nombre",-1)),Ue={key:6,class:"input"},Qe=n(()=>e("h5",{class:"field"},"N√∫mero de tel√©fono",-1)),Ie={key:7,class:"input"},Ne=n(()=>e("h5",{class:"field"},"Direcci√≥n (opcional)",-1)),Ce={class:"input",style:{display:"flex","justify-content":"end"}},$e={__name:"pqrUser",setup(i){const l=r(),u=r({}),E=r(!1),j=r([]),q=r(!1),s=r(),g=r(),C=r([]),$=r([]),w=r(""),V=r(""),P=r(""),U=r(""),S=r(""),x=r(null),D=r([{}]),z=async()=>{j.value=await Z.getPqrsByPlaceId(1)},A=async()=>{var t,h,b;if(!s.value){alert("Por favor, seleccione un tipo de requerimiento.");return}if(s.value==9&&!w.value){alert("Por favor, ingrese el ID de la orden.");return}if(s.value!=8&&!u.value){alert("Por favor, Clasifica tu inconveniente");return}if(s.value!=8&&!S.value){alert("Por favor, Cuentenos lo sucedido");return}if(s.value!=8&&(!V.value||!P.value)){alert("Por favor, complete los campos obligatorios (nombre y tel√©fono).");return}if(!g.value){alert("Por favor, Seleccione la sede");return}if(s.value==8&&!x.value){alert("Por favor, Seleccione una calificacion");return}const B={data:{reques_type_id:s.value,content:S.value||"Sin comentarios",channel_id:1,rating:x.value||null,site_id:g.value||null,order_id:w.value||null,network_id:4,tag_id:((t=u.value)==null?void 0:t.id)||7,restaurant_id:1},user:{user_name:V.value||"",user_phone:((h=P.value)==null?void 0:h.toString())||"",user_address:U.value||"",site_id:g.value||null}};try{const m=await k.post(`${_}/create-pqr`,B);l.value=(b=m==null?void 0:m.pqr_id[0])==null?void 0:b.id,s.value==8?(q.value=!0,emi):E.value=!0}catch{}};return O(async()=>{z(),$.value=await k.get(`${_}/get-all-pqrs-types`),C.value=await k.get(`${_}/sites`),D.value=await k.get(`${_}/get-all-pqr-tags`),s.value=8}),(B,t)=>{const h=d("Button"),b=d("router-link"),m=d("Dialog"),Q=d("Dropdown"),L=d("Tag"),I=d("InputText"),G=d("Rating"),M=d("Textarea"),F=d("InputNumber");return c(),p(Y,null,[a(m,{class:"mx-4",visible:E.value,"onUpdate:visible":t[0]||(t[0]=o=>E.value=o),modal:"",style:{width:"30rem","background-color":"white"}},{default:f(()=>[e("div",ee,[oe,y(),te,e("b",null,[e("p",se,N(l.value),1)]),a(b,{to:"/"},{default:f(()=>[a(h,{class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})]),_:1})])]),_:1},8,["visible"]),a(m,{class:"mx-4",visible:q.value,"onUpdate:visible":t[1]||(t[1]=o=>q.value=o),modal:"",style:{width:"30rem","background-color":"white"}},{default:f(()=>[e("div",le,[ae,re,a(b,{to:"/"},{default:f(()=>[a(h,{class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})]),_:1})])]),_:1},8,["visible"]),e("div",ne,[ie,ue,de,e("div",ce,[e("div",pe,[ve,a(Q,{modelValue:s.value,"onUpdate:modelValue":t[2]||(t[2]=o=>s.value=o),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:$.value.filter(o=>o.show_on_web),optionLabel:"name"},null,8,["modelValue","options"])]),s.value&&s.value!=8?(c(),p("div",_e,[me,a(Q,{options:D.value,modelValue:u.value,"onUpdate:modelValue":t[3]||(t[3]=o=>u.value=o),style:{width:"100%"}},{option:f(o=>[e("div",he,[a(L,{style:T([`background-color:${o.option.color}`,{height:"1.5rem","aspect-ratio":"1 / 1","border-radius":"50%"}])},null,8,["style"]),y(),e("h6",fe,N(o.option.name),1)])]),value:f(o=>[e("div",ye,[a(L,{style:T([`background-color:${o.value.color}`,{height:"1.5rem","aspect-ratio":"1 / 1","border-radius":"50%"}])},null,8,["style"]),y(),e("h6",ge,N(o.value.name),1)])]),_:1},8,["options","modelValue"])])):v("",!0),s.value?(c(),p("div",be,[we,a(Q,{options:C.value.filter(o=>o.show_on_web),modelValue:g.value,"onUpdate:modelValue":t[4]||(t[4]=o=>g.value=o),optionValue:"site_id",optionLabel:"site_name",style:{width:"100%"}},null,8,["options","modelValue"])])):v("",!0),s.value&&s.value==9?(c(),p("div",Ve,[Pe,a(I,{modelValue:w.value,"onUpdate:modelValue":t[5]||(t[5]=o=>w.value=o),style:{width:"100%"},placeholder:"Escriba el n√∫mero de la orden"},null,8,["modelValue"])])):v("",!0),s.value&&(s.value==9||s.value==8)?(c(),p("div",Se,[xe,a(G,{modelValue:x.value,"onUpdate:modelValue":t[6]||(t[6]=o=>x.value=o),cancel:!1},null,8,["modelValue"])])):v("",!0),s.value?(c(),p("div",Re,[ke,a(M,{modelValue:S.value,"onUpdate:modelValue":t[7]||(t[7]=o=>S.value=o),rows:"5",style:{width:"100%",resize:"none"},placeholder:"Deja tus comentarios"},null,8,["modelValue"])])):v("",!0),s.value?(c(),p("div",Ee,[qe,a(I,{modelValue:V.value,"onUpdate:modelValue":t[8]||(t[8]=o=>V.value=o),style:{width:"100%"},placeholder:"Escriba su nombre por favor"},null,8,["modelValue"])])):v("",!0),s.value?(c(),p("div",Ue,[Qe,a(F,{useGrouping:!1,modelValue:P.value,"onUpdate:modelValue":t[9]||(t[9]=o=>P.value=o),style:{width:"100%"},placeholder:"Escriba su n√∫mero de tel√©fono"},null,8,["modelValue"])])):v("",!0),s.value?(c(),p("div",Ie,[Ne,a(I,{modelValue:U.value,"onUpdate:modelValue":t[10]||(t[10]=o=>U.value=o),style:{width:"100%"},placeholder:"Escriba su direcci√≥n"},null,8,["modelValue"])])):v("",!0),e("div",Ce,[a(h,{label:"Enviar",style:{"font-weight":"bold"},severity:"info",onClick:A})])])])],64)}}},Le=K($e,[["__scopeId","data-v-da6c038f"]]);export{Le as default};
