import{_ as R,f as d,k as B,y as T,g as L,l as N,h as P,o as h,c as y,a as o,C as n,i as f,x as S,u as V,D,j as E,U as x}from"./index-7cdd271b.js";/* empty css                                                                    */const M={class:"container shadow-3 col-12",style:{"border-radius":"0.5rem",height:"100%",position:"relative"}},O=["src"],U={class:"texto",style:{}},q={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},z={style:{display:"flex","justify-content":"space-between","align-items":"center"}},A={style:{"text-transform":"uppercase"}},H=["src"],F={style:{display:"flex","justify-content":"space-between","align-items":"center"}},G={style:{display:"flex","align-items":"center",gap:"1rem"}},J={key:0,class:"text-xl p-0 m-0",style:{"text-decoration":"line-through",opacity:".5"}},K={cal:"",class:"text-xl p-0 m-0"},Q={__name:"TarjetaMenu",props:{product:{type:Object,default:{}},index:{type:Number,default:12}},setup(v){const l=d({}),u=d({}),b=e=>`${x}/read-product-image/96/${e}`,p=e=>`${x}/read-product-image/300/${e}`,$=e=>u.value[e]||b(e),w=e=>{const t=new Image;t.src=p(e),t.onload=()=>{u.value[e]=p(e),l.value[e]=!0}},c=B(),i=T(),C=e=>{i.addProductToCart(e)},I=d(!1),j=e=>{if(i.setCurrentProduct(e),i.setVisible("currentProduct",!0),c.path!="/"){const t=c.params.menu_name,r=c.params.category_id,a=`/${t}/${r}/${e.product_name}/${e.id}`;E.push(a)}},s=v;L(()=>{l.value={};const e=new IntersectionObserver(t=>{t.forEach(r=>{if(r.isIntersecting){const a=r.target;a.src=a.dataset.src,I.value[a.dataset.index]=!0,e.unobserve(a)}})},{threshold:.1});document.querySelectorAll("img.lazy").forEach((t,r)=>{t.dataset.index=r,e.observe(t)})});const k=N(()=>s.product.product_description.substring(0,100)+"...");return(e,t)=>{var a,m,g;const r=P("Button");return h(),y("div",M,[o("div",{class:"imagen",style:{display:"flex","align-items":"center"},onClick:t[1]||(t[1]=_=>j(s.product))},[o("img",{style:{width:"100%","aspect-ratio":"1 / 1","border-radius":"0.5rem","background-color":"rgb(255, 255, 255)","object-fit":"contain"},src:$(s.product.product_name),onLoad:t[0]||(t[0]=_=>w(s.product.product_name)),alt:""},null,40,O)]),o("div",U,[o("div",q,[o("div",z,[o("span",null,[o("b",A,n(s.product.product_name),1)]),o("img",{class:"character",style:{width:"4rem"},src:`/images/characters/${s.index}.png`,alt:""},null,8,H)]),o("span",null,n((a=k.value)==null?void 0:a.toLocaleLowerCase()),1),o("div",F,[f(r,{icon:"pi pi-heart text-xl p-0 m-0",text:"",rounded:"",style:{color:"red"}}),o("div",null,[o("div",G,[(m=s.product)!=null&&m.last_price?(h(),y("h6",J,n((g=s==null?void 0:s.product)==null?void 0:g.last_price),1)):S("",!0),o("h5",K,[o("b",null,n(V(D)(s.product.price)),1)])])])])])]),f(r,{style:{position:"absolute",right:"-1rem",top:"-1rem"},onClick:t[2]||(t[2]=_=>C(s.product)),severity:"danger",rounded:"",icon:"pi pi-plus text-xl fw-100"})])}}},Y=R(Q,[["__scopeId","data-v-d441bacd"]]);export{Y as T};
