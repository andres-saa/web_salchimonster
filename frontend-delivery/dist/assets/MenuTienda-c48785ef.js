import{K as B,d as n,L as _,o as O,r as l,a as y,c as f,e as a,b as c,w as i,u as s,H as $,F as h,f as J,U as v,q as S,P as p,k as C,t as d,z as M,M as P}from"./index-272de601.js";import{c as r,s as R,a as T,p as U}from"./valoresReactivosCompartidos-7fff353b.js";const z={class:"grid col-4 m-0 p-0"},A={class:"col p-2"},E={class:"col p-2"},F={style:{width:"100%"},sclass:"text-center"},H={__name:"MenuTienda",setup(b){B();const N=n(!1),g=n([]);n(),n();const I=async()=>{try{return await(await fetch(`${v}/categories`)).json()}catch(e){console.error("Error fetching data: ",e)}};_(r,(e,t)=>{e!==t&&(console.log(t,e),localStorage.setItem("categoryValue",JSON.stringify(e)),e.category_name!="Nueva categoria"?P.push({path:`/tienda-menu/productos/${e.category_name}`,query:{category:e.category_id}}):N.value=!0)}),_(R,(e,t)=>{e!==t&&(console.log(t,e),localStorage.setItem("siteDropValue",JSON.stringify(e)))});const L=[],V=async()=>{try{return(await fetch(`${v}/sites`)).json()}catch(e){console.log(e)}},x=()=>{I().then(e=>{g.value=e})};return O(async()=>{const e=localStorage.getItem("categoryValue");e&&(r.value=JSON.parse(e));const t=localStorage.getItem("siteDropValue");t&&(R.value=JSON.parse(t)),V().then(u=>T.value=u),x()}),(e,t)=>{const u=l("Dropdown"),D=l("Button"),k=l("RouterLink"),w=l("RouterView");return y(),f(h,null,[a("div",z,[a("div",A,[c(u,{style:{outline:"none"},class:"p-1 col-6",primary:"",modelValue:s(r),"onUpdate:modelValue":t[0]||(t[0]=o=>$(r)?r.value=o:null),options:g.value,placeholder:"Productos"},{value:i(o=>{var m;return[a("div",null,[a("i",{class:S([s(p).STAR_FILL,"mr-2"])},null,2),C(d((m=o.value)!=null&&m.category_name?o.value.category_name:{}),1)])]}),option:i(o=>[a("div",null,[a("span",null,[a("i",{class:S([o.option.category_name=="Nueva categoria"?s(p).PLUS_CIRCLE:s(p).TRASH,"mr-3"])},null,2)]),C(d(o.option.category_name),1)])]),_:1},8,["modelValue","options"])]),(y(),f(h,null,J(L,o=>a("div",E,[c(k,{to:`/tienda-menu/${o.to}`},{default:i(()=>[c(D,{style:M(`background-color:${s(U)[o.to]}`),class:"outlined col-12 p-3 text-center",outlined:"",Secondary:""},{default:i(()=>[a("span",F,d(o.name),1)]),_:2},1032,["style"])]),_:2},1032,["to"])])),64))]),c(w,{style:{"max-width":""}})],64)}}};export{H as default};
