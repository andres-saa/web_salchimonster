import{r as P,_ as $}from"./empty-cart-f68c97c8.js";import{e as h,g as z,L as w,z as k,l as p,o as c,c as m,u as o,q as s,a as t,n as d,Q as S,R as v,S as b,v as _,x as V,T as g,V as l,F as I,U as L,W as a,X as i,Y as B,s as N,t as F,P as x,r as J,Z as H}from"./index-39b4fbfc.js";import{T as q}from"./TarjetaMenu-564def7b.js";/* empty css                                                                    *//* empty css                                                                *//* empty css                                                                    */const G={key:0,class:"col-12 grid container lg:col-10 xl:col-8 m-auto mb-8 md:p-4",style:{"background-color":"rgb(255, 255, 255)","border-radius":"2rem"}},Z={class:"col-12 xl:col-7 xl:p-5 p-0",style:{height:"100%"}},Q={class:"col-12 p-2",style:{position:"relative","border-radius":"1rem",height:"max-content",padding:"0 1rem"}},W=t("div",{style:{"font-weight":"bold"},class:"col-12 pl-0 text-center text-xl"}," DATOS DE USUARIO ",-1),X=t("label",{for:"year"},"NOMBRE",-1),Y=t("label",{for:"year"},"BARRIO (click para modificar)",-1),K=t("label",{for:"year"},"DIRECCION",-1),ee=t("label",{for:"year"},"TELEFONO",-1),oe=t("label",{for:"year"},"METODO DE PAGO",-1),te={class:"col-12 p-6 d-flex justify-content-center"},re=t("span",{class:"text-xl",style:{"min-width":"max-content","font-weight":"bold","margin-top":"5rem"}},"FINALIZAR COMPRA",-1),le=[re],se={key:1,class:"col-12 m-auto d-flex w-100",style:{display:"flex","flex-direction":"column","justify-content":"center","text-align":"center",height:"80vh","align-items":"center"}},ae=t("img",{style:{width:"100%","max-width":"640px"},src:$,alt:""},null,-1),ne=[ae],ie={class:"text-xl",style:{color:"black"}},de={style:{"text-transform":"capitalize"}},ue=t("span",{style:{"border-radius":"10rem",color:"black",position:"absolute",top:"1rem","background-color":"rgb(255, 255, 255)","font-weight":"bold"},class:"text-center text-3xl px-6 py-2"}," Mata el antojo",-1),ce={class:"p-5",style:{display:"flex","align-items":"center",gap:"2rem","overflow-x":"auto",color:"black",height:"100%"}},me={style:{"border-radius":"10rem",color:"black",position:"absolute",bottom:"-2rem","background-color":"var(--primary-color)","font-weight":"bold"},class:"text-center text-2xl px-4 py-1"},ye={__name:"pay",setup(pe){const O=()=>{g.value=!1,location.reload()},T=h(JSON.parse(localStorage.getItem("currentNeigborhood"))),y=h([]),C=JSON.parse(localStorage.getItem("currentNeigborhood")).currenNeigborhood.name,E=async n=>{try{let e=await fetch(`${L}/products/category/name/${n}/site/${T.value.currenSiteId}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let u=await e.json();y.value=u}catch(e){console.error("Error fetching data: ",e)}},M=()=>{const n=a.value;if(!n.user_name||!n.user_name.trim()){alert("El nombre es obligatorio."),i.value.user_name=!0,l.value=!1;return}if(!n.user_phone||!n.user_phone.trim()){alert("El teléfono es obligatorio."),i.value.user_phone=!0,l.value=!1;return}if(!n.user_address||!n.user_address.trim()){i.value.user_address=!0,alert("La dirección es obligatoria."),l.value=!1;return}if(!b.value){i.value.payMethod=!0,alert("Por favor seleccione un metodo de pago"),l.value=!1;return}l.value=!0},R=h();z(()=>{w.value=k(JSON.parse(localStorage.getItem("cart")).products),R.value=JSON.parse(localStorage.getItem("cart")).total,E("malteadas")});const j=k(JSON.parse(localStorage.getItem("cart")).products);return console.log(j),(n,e)=>{const u=p("InputText"),D=p("Dropdown"),f=p("Dialog"),U=p("RouterLink");return c(),m(I,null,[o(w).length>0?(c(),m("div",G,[s(P),t("div",Z,[t("div",Q,[W,X,s(u,{type:"text",class:d(["col-12 p-1 mb-4",o(i).user_name?"p-invalid":""]),modelValue:o(a).user_name,"onUpdate:modelValue":e[0]||(e[0]=r=>o(a).user_name=r)},null,8,["modelValue","class"]),Y,s(u,{onClick:e[1]||(e[1]=r=>S.value=!o(S)),value:o(C),type:"text",readonly:"",class:"col-12 p-1 mb-4",modelValue:o(a).barrio,"onUpdate:modelValue":e[2]||(e[2]=r=>o(a).barrio=r)},null,8,["value","modelValue"]),K,s(u,{type:"text",class:d(["col-12 p-1 mb-4",o(i).user_address?"p-invalid":""]),modelValue:o(a).user_address,"onUpdate:modelValue":e[3]||(e[3]=r=>o(a).user_address=r)},null,8,["modelValue","class"]),ee,s(u,{max:"10",type:"Number",class:d(["col-12 p-1 mb-4",o(i).user_phone?"p-invalid":""]),modelValue:o(a).user_phone,"onUpdate:modelValue":e[4]||(e[4]=r=>o(a).user_phone=r)},null,8,["modelValue","class"]),oe,s(D,{class:d(["col-12 p-0",{"p-invalid":o(i).payMethod}]),modelValue:o(b),"onUpdate:modelValue":e[5]||(e[5]=r=>v(b)?b.value=r:null),modelModifiers:{trim:!0},options:o(B),placeholder:"",required:"true"},null,8,["modelValue","options","class"])]),t("div",te,[t("button",{onClick:e[6]||(e[6]=r=>M()),class:"col",style:{width:"100%",border:"none","background-color":"var(--primary-color)",color:"white","border-radius":"0.6rem",padding:"0.5rem"}},le)])])])):(c(),m("div",se,ne)),s(f,{class:"pt-8",style:V([{"background-color":"white","border-radius":"1rem"},{width:"30rem"}]),visible:o(g),"onUpdate:visible":e[7]||(e[7]=r=>v(g)?g.value=r:null),modal:"",header:"Header",breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:_(()=>[t("div",null,[t("p",ie,[N(" Muchas gracias "),t("span",de,F(o(a).user_name),1),N(", hemos recibido tu pedido y en breve será despachado")])]),t("button",{onClick:O,style:{width:"3rem",height:"3rem",border:"none",position:"absolute",right:"2rem",top:"1rem","background-color":"var(--primary-color)","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center","z-index":"9"}},[t("i",{class:d([o(x).TIMES,"text-2xl"]),style:{color:"white","font-weight":"bold"}},null,2)])]),_:1},8,["visible"]),s(f,{class:"dialogo pt-6",style:V([{"border-radius":"1rem",overflow:"","background-color":"rgb(255, 255, 255)",color:"rgba(0, 0, 0, 0.663)"},{width:"max-content"}]),visible:o(l),"onUpdate:visible":e[11]||(e[11]=r=>v(l)?l.value=r:null),modal:"",header:"name",breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:_(()=>[ue,t("div",ce,[(c(!0),m(I,null,J(y.value,r=>(c(),m("div",null,[s(q,{product:r,style:{height:"100%",width:"100%","min-width":"15rem","max-width":"15rem","box-shadow":"0 0 20px rgba(0, 0, 0, 0.227)"}},null,8,["product"]),t("button",{style:{position:"absolute",top:"-1rem",right:"-1rem","background-color":"red",width:"3rem",height:"3rem","border-radius":"50%",display:"flex","align-items":"center",border:"none","justify-content":"center",color:"white","z-index":"99"},onClick:e[8]||(e[8]=A=>l.value=!o(l)),class:"add-cart-btn text-xl"},[t("i",{style:{"font-weight":"bold"},class:d(["icono text-2xl p-0 m-0",o(x).TIMES])},null,2)]),s(U,{to:"/cart"},{default:_(()=>[t("button",{style:{position:"absolute",top:"-1rem",right:"3rem","background-color":"var(--primary-color)",width:"3rem",height:"3rem","border-radius":"50%",display:"flex","align-items":"center",border:"none","justify-content":"center",color:"white","z-index":"99"},onClick:e[9]||(e[9]=A=>l.value=!o(l)),class:"add-cart-btn text-xl"},[t("i",{style:{"font-weight":"bold"},class:d(["icono text-2xl p-0 m-0",o(x).SHOPPING_CART])},null,2)])]),_:1})]))),256))]),t("p",me,[t("button",{onClick:e[10]||(e[10]=r=>o(H)()),style:{"font-weight":"bold","background-color":"transparent",color:"white",border:"none"}}," Finalizar compra")])]),_:1},8,["visible"])],64)}}};export{ye as default};
