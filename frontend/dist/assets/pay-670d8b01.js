import{r as F,_ as H}from"./empty-cart-f8e58845.js";import{x as W,d as h,g as S,L as Z,Q as N,D as I,q as p,o as i,c as m,u as t,s,a as o,n as d,W as O,X as x,Y as b,N as V,H as C,v as y,B as R,Z as g,$ as l,F as M,U as q,a0 as G,a1 as a,a2 as n,a3 as Q,a4 as v,A as T,t as X,P as _,r as Y,a5 as K}from"./index-3d990712.js";import{T as ee}from"./TarjetaMenu-6e9e0ef1.js";/* empty css                                                                    *//* empty css                                                                *//* empty css                                                                    */const te={key:0,class:"col-12 grid container lg:col-10 xl:col-8 m-auto mb-8 md:p-4",style:{"background-color":"rgb(255, 255, 255)","border-radius":"2rem"}},oe={class:"col-12 xl:col-7 xl:p-5 p-0",style:{height:"100%"}},re={class:"col-12 p-2",style:{position:"relative","border-radius":"1rem",height:"max-content",padding:"0 1rem"}},le=o("div",{style:{"font-weight":"bold"},class:"col-12 pl-0 text-center text-xl"}," DATOS DE USUARIO ",-1),se=o("label",{for:"year"},"NOMBRE",-1),ae=o("label",{for:"year"},"BARRIO (click para modificar)",-1),ne=o("label",{for:"year"},"DIRECCION",-1),ie=o("label",{for:"year"},"TELEFONO",-1),de=o("label",{for:"year"},"METODO DE PAGO",-1),ce={class:"col-12 p-6 d-flex justify-content-center"},ue=o("span",{class:"text-xl",style:{"min-width":"max-content",display:"flex","font-weight":"bold"}},"FINALIZAR COMPRA ",-1),pe={key:1,class:"col-12 m-auto d-flex w-100",style:{display:"flex","flex-direction":"column","justify-content":"center","text-align":"center",height:"80vh","align-items":"center"}},me=o("img",{style:{width:"100%","max-width":"640px"},src:H,alt:""},null,-1),be=[me],ge={class:"text-xl",style:{color:"black"}},he={style:{"text-transform":"capitalize"}},xe=o("span",{style:{"border-radius":"10rem",color:"black",position:"absolute",top:"1rem","background-color":"rgb(255, 255, 255)","font-weight":"bold"},class:"text-center text-3xl px-6 py-2"}," Mata el antojo",-1),ye={class:"p-5",style:{display:"flex","align-items":"center",gap:"2rem","overflow-x":"auto",color:"black",height:"100%"}},ve={style:{"border-radius":"10rem",color:"black",position:"absolute",bottom:"-2rem","background-color":"var(--primary-color)","font-weight":"bold"},class:"text-center text-2xl px-4 py-1"},_e=["disabled"],fe=o("span",{class:"text-xl",style:{"min-width":"max-content",display:"flex","font-weight":"bold"}},"FINALIZAR COMPRA ",-1),Ce={__name:"pay",setup(we){const D=W();console.log(D);const E=()=>{g.value=!1,location.reload()},P=h(JSON.parse(localStorage.getItem("currentNeigborhood"))),f=h([]),j=JSON.parse(localStorage.getItem("currentNeigborhood")).currenNeigborhood.name;S(()=>{Z.value=JSON.parse(localStorage.getItem("currentNeigborhood")).currenNeigborhood});const A=async u=>{try{let e=await fetch(`${q}/products/category/name/${u}/site/${P.value.currenSiteId}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let c=await e.json();f.value=c}catch(e){console.error("Error fetching data: ",e)}},U=()=>{const u=localStorage.getItem("estado");if(u&&u=="cerrado"){G.value=!0;return}const e=a.value;if(!e.user_name||!e.user_name.trim()){alert("El nombre es obligatorio."),n.value.user_name=!0,l.value=!1;return}if(!e.user_phone||!e.user_phone.trim()){alert("El teléfono es obligatorio."),n.value.user_phone=!0,l.value=!1;return}if(!e.user_address||!e.user_address.trim()){n.value.user_address=!0,alert("La dirección es obligatoria."),l.value=!1;return}if(!b.value){n.value.payMethod=!0,alert("Por favor seleccione un metodo de pago"),l.value=!1;return}l.value=!0},$=h();S(()=>{N.value=I(JSON.parse(localStorage.getItem("cart")).products),$.value=JSON.parse(localStorage.getItem("cart")).total,A("malteadas")});const L=I(JSON.parse(localStorage.getItem("cart")).products);return console.log(L),(u,e)=>{const c=p("InputText"),B=p("Dropdown"),w=p("ProgressSpinner"),k=p("Dialog"),z=p("RouterLink");return i(),m(M,null,[t(N).length>0?(i(),m("div",te,[s(F),o("div",oe,[o("div",re,[le,se,s(c,{type:"text",class:d(["col-12 p-1 mb-4",t(n).user_name?"p-invalid":""]),modelValue:t(a).user_name,"onUpdate:modelValue":e[0]||(e[0]=r=>t(a).user_name=r)},null,8,["modelValue","class"]),ae,s(c,{onClick:e[1]||(e[1]=r=>O.value=!t(O)),value:t(j),type:"text",readonly:"",class:"col-12 p-1 mb-4",modelValue:t(a).barrio,"onUpdate:modelValue":e[2]||(e[2]=r=>t(a).barrio=r)},null,8,["value","modelValue"]),ne,s(c,{type:"text",class:d(["col-12 p-1 mb-4",t(n).user_address?"p-invalid":""]),modelValue:t(a).user_address,"onUpdate:modelValue":e[3]||(e[3]=r=>t(a).user_address=r)},null,8,["modelValue","class"]),ie,s(c,{max:"10",type:"Number",class:d(["col-12 p-1 mb-4",t(n).user_phone?"p-invalid":""]),modelValue:t(a).user_phone,"onUpdate:modelValue":e[4]||(e[4]=r=>t(a).user_phone=r)},null,8,["modelValue","class"]),de,s(B,{class:d(["col-12 p-0",{"p-invalid":t(n).payMethod}]),modelValue:t(b),"onUpdate:modelValue":e[5]||(e[5]=r=>x(b)?b.value=r:null),modelModifiers:{trim:!0},options:t(Q),placeholder:"",required:"true"},null,8,["modelValue","options","class"])]),o("div",ce,[o("button",{onClick:e[6]||(e[6]=r=>U()),class:"col text-center",style:{width:"100%",border:"none","background-color":"var(--primary-color)",display:"flex","justify-content":"center",gap:"1rem",color:"white","border-radius":"0.6rem",padding:"0.5rem"}},[ue,t(v)?(i(),V(w,{key:0,class:"p-0 m-0",style:{width:"30px","background-color":"",height:"30px"},strokeWidth:"10",fill:"white",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})):C("",!0)])])])])):(i(),m("div",pe,be)),s(k,{class:"pt-8",style:R([{"background-color":"white","border-radius":"1rem"},{width:"30rem"}]),visible:t(g),"onUpdate:visible":e[7]||(e[7]=r=>x(g)?g.value=r:null),modal:"",header:"Header",breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:y(()=>[o("div",null,[o("p",ge,[T(" Muchas gracias "),o("span",he,X(t(a).user_name),1),T(", hemos recibido tu pedido y en breve será despachado")])]),o("button",{onClick:E,style:{width:"3rem",height:"3rem",border:"none",position:"absolute",right:"2rem",top:"1rem","background-color":"var(--primary-color)","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center","z-index":"9"}},[o("i",{class:d([t(_).TIMES,"text-2xl"]),style:{color:"white","font-weight":"bold"}},null,2)])]),_:1},8,["visible"]),s(k,{class:"dialogo pt-6",style:R([{"border-radius":"1rem",overflow:"","background-color":"rgb(255, 255, 255)",color:"rgba(0, 0, 0, 0.663)"},{width:"max-content"}]),visible:t(l),"onUpdate:visible":e[11]||(e[11]=r=>x(l)?l.value=r:null),modal:"",header:"name",breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:y(()=>[xe,o("div",ye,[(i(!0),m(M,null,Y(f.value,r=>(i(),m("div",null,[s(ee,{product:r,style:{height:"100%",width:"100%","min-width":"15rem","max-width":"15rem","box-shadow":"0 0 20px rgba(0, 0, 0, 0.227)"}},null,8,["product"]),o("button",{style:{position:"absolute",top:"-1rem",right:"-1rem","background-color":"red",width:"3rem",height:"3rem","border-radius":"50%",display:"flex","align-items":"center",border:"none","justify-content":"center",color:"white","z-index":"99"},onClick:e[8]||(e[8]=J=>l.value=!t(l)),class:"add-cart-btn text-xl"},[o("i",{style:{"font-weight":"bold"},class:d(["icono text-2xl p-0 m-0",t(_).TIMES])},null,2)]),s(z,{to:"/cart"},{default:y(()=>[o("button",{style:{position:"absolute",top:"-1rem",right:"3rem","background-color":"var(--primary-color)",width:"3rem",height:"3rem","border-radius":"50%",display:"flex","align-items":"center",border:"none","justify-content":"center",color:"white","z-index":"99"},onClick:e[9]||(e[9]=J=>l.value=!t(l)),class:"add-cart-btn text-xl"},[o("i",{style:{"font-weight":"bold"},class:d(["icono text-2xl p-0 m-0",t(_).SHOPPING_CART])},null,2)])]),_:1})]))),256))]),o("p",ve,[o("button",{disabled:t(v),onClick:e[10]||(e[10]=r=>t(K)()),class:"col text-center",style:{width:"100%",border:"none","background-color":"var(--primary-color)",display:"flex","justify-content":"center",gap:"1rem",color:"white","border-radius":"0.6rem",padding:"0.5rem"}},[fe,t(v)?(i(),V(w,{key:0,class:"p-0 m-0",style:{width:"30px","background-color":"",height:"30px"},strokeWidth:"10",fill:"white",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})):C("",!0)],8,_e)])]),_:1},8,["visible"])],64)}}};export{Ce as default};
