import{_ as i,r as p,d as c,e as m,f as t,Q as d,$ as l,a0 as u,U as w,q as f}from"./index-351d7858.js";const k={setup(){const r=p({username:"",password:""});return{credentials:r,login:async()=>{const s=new URLSearchParams;s.append("username",r.value.username),s.append("password",r.value.password);try{const e=await fetch(`${w}/token-employer`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!e.ok)throw new Error("Network response was not ok");const n=await e.json();localStorage.setItem("token",n.access_token),f.push("/actualizar-datos")}catch(e){console.error(e)}}}}},y=t("button",{type:"submit"},"Login",-1);function g(r,o,s,e,n,h){return c(),m("div",null,[t("form",{onSubmit:o[2]||(o[2]=u((...a)=>e.login&&e.login(...a),["prevent"]))},[d(t("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.credentials.username=a),type:"text",placeholder:"Username"},null,512),[[l,e.credentials.username]]),d(t("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>e.credentials.password=a),type:"password",placeholder:"Password"},null,512),[[l,e.credentials.password]]),y],32)])}const x=i(k,[["render",g]]);export{x as default};
