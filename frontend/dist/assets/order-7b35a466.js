import{r as s,G as i,U as d}from"./index-a95da859.js";const u=s({}),n=s(""),_=s(!1),l=JSON.parse(localStorage.getItem("currentNeigborhood")).currenNeigborhood.name,p=s(""),g=s(["Recoger en local","Efectivo","Pago con tarjeta (datafono),"]),h=async r=>{const t=`${d}/user`;r.user_address=`${r.user_address} ${l} `,console.log(r);const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};try{const e=await fetch(t,o);if(!e.ok)throw new Error(`Error en la solicitud para obtener user_id: ${e.status}`);return(await e.json()).user_id}catch(e){throw console.error("Error al obtener user_id:",e),e}},v=async()=>{const t=await(await fetch("https://backend.salchimonster.com/server_time")).json(),{fecha:o,hora:e}=t,a=u.value;a.site_id=JSON.parse(localStorage.getItem("currentNeigborhood")).currenSiteId;const c=await h(a);JSON.parse(localStorage.getItem("cart")).products,JSON.parse(localStorage.getItem("currentNeigborhood")).currenSiteId,`${o.a}${o.m}${o.d}${e.h}${e.m}`,p.value,i.value.deliveryPrice,n.value==null||n.value==""||n.value};export{g as a,v as b,n as o,p,_ as s,u};
