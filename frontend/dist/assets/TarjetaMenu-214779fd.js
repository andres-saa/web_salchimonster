import{_ as k,k as j,y as $,f as P,g as S,l as T,h as g,o as u,c as p,a as e,i,D as B,E as D,n as E,G as N,T as V,x as y,C as c,u as I,H as L,j as M}from"./index-ef675759.js";/* empty css                                                                    */const z={class:"container shadow-3 col-12",style:{"border-radius":"0.5rem",height:"100%",position:"relative"}},O=["src"],q={key:0,style:{width:"100%",display:"flex","justify-content":"center","align-items":"center","aspect-ratio":"1 / 1","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.5rem"}},A={class:"texto",style:{}},G={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},H={style:{display:"flex","justify-content":"space-between","align-items":"center"}},R={style:{"text-transform":"uppercase"}},W=["src"],F={style:{display:"flex","justify-content":"space-between","align-items":"center"}},J={style:{display:"flex","align-items":"center",gap:"1rem"}},K={key:0,class:"text-xl p-0 m-0",style:{"text-decoration":"line-through",opacity:".5"}},Q={cal:"",class:"text-xl p-0 m-0"},U={__name:"TarjetaMenu",props:{product:{type:Object,default:{}},index:{type:Number,default:12}},setup(f){const d=j(),l=$(),x=o=>{l.addProductToCart(o)},n=P(!1),v=()=>{n.value=!0},b=o=>{if(l.setCurrentProduct(o),l.setVisible("currentProduct",!0),d.path!="/"){const s=d.params.menu_name,a=d.params.category_id,r=`/${s}/${a}/${o.product_name}/${o.id}`;M.push(r)}},t=f;S(()=>{const o=new IntersectionObserver(s=>{s.forEach(a=>{if(a.isIntersecting){const r=a.target;r.src=r.dataset.src,n.value[r.dataset.index]=!0,o.unobserve(r)}})},{threshold:.1});document.querySelectorAll("img.lazy").forEach((s,a)=>{s.dataset.index=a,o.observe(s)})});const w=T(()=>t.product.product_description.substring(0,100)+"...");return(o,s)=>{var m,_,h;const a=g("ProgressSpinner"),r=g("Button");return u(),p("div",z,[e("div",{class:"imagen",style:{display:"flex","align-items":"center"},onClick:s[0]||(s[0]=C=>b(t.product))},[i(V,{name:"fade"},{default:B(()=>[D(e("img",{onLoad:v,class:E(n.value?"cargado":"sin-cargar"),style:{width:"100%","aspect-ratio":"1 / 1","border-radius":"0.5rem","background-color":"rgb(255, 255, 255)","object-fit":"contain"},src:`https://backend.salchimonster.com/read-product-image/300/${t.product.product_name}`,alt:""},null,42,O),[[N,n.value]])]),_:1}),n.value?y("",!0):(u(),p("div",q,[i(a,{style:{width:"60px",height:"60px"},strokeWidth:"8",animationDuration:".2s","aria-label":"Custom ProgressSpinner"})]))]),e("div",A,[e("div",G,[e("div",H,[e("span",null,[e("b",R,c(t.product.product_name),1)]),e("img",{class:"character",style:{width:"4rem"},src:`/images/characters/${t.index}.png`,alt:""},null,8,W)]),e("span",null,c((m=w.value)==null?void 0:m.toLocaleLowerCase()),1),e("div",F,[i(r,{icon:"pi pi-heart text-xl p-0 m-0",text:"",rounded:"",style:{color:"red"}}),e("div",null,[e("div",J,[(_=t.product)!=null&&_.last_price?(u(),p("h6",K,c((h=t==null?void 0:t.product)==null?void 0:h.last_price),1)):y("",!0),e("h5",Q,[e("b",null,c(I(L)(t.product.price)),1)])])])])])]),i(r,{style:{position:"absolute",right:"-1rem",top:"-1rem"},onClick:s[1]||(s[1]=C=>x(t.product)),severity:"danger",rounded:"",icon:"pi pi-plus text-xl fw-100"})])}}},Z=k(U,[["__scopeId","data-v-d6f7f7f0"]]);export{Z as T};
