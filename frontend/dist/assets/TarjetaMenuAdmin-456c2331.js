import{_ as w,x as k,r as c,f as h,g as d,h as u,k as f,l as $,i as t,v as j,t as m,C as b,u as l,U as p,D,z as I,n as T,P as U,F as z}from"./index-814a4f25.js";const E={key:0},F=["src"],N=["src"],P={class:"cont",style:{"background-color":"white"}},S={class:"imagen-cont",style:{position:""}},V=["src"],A={style:{height:"2rem",display:"flex","padding-top":"1rem"}},B={style:{"font-size":"1rem","font-weight":"bold"}},L={class:"info"},O={class:"text-xl",style:{"font-size":"2rem","font-weight":"bold"}},R={__name:"TarjetaMenuAdmin",props:{product:{type:Object,default:{}}},setup(y){const s=y;k();const a=c(!1),_=c(null),n=c(null),x=o=>{const e=o.target.files[0];e&&(_.value=e,n.value=URL.createObjectURL(e))},C=async()=>{try{const o=new FormData;o.append("file",_.value);const e=`${p}/upload-product-image/${s.product.id}`;console.log(e);const r=await(await fetch(e,{method:"POST",body:o})).json();console.log("Imagen subida exitosamente:",r),a.value=!a.value,location.reload()}catch(o){console.error("Error al subir la imagen:",o)}},g=o=>{o.target.src="https://salchimonster.com/images/logo.png"};return(o,e)=>{const v=h("Dialog"),r=h("Toast");return d(),u(z,null,[f(v,{visible:a.value,"onUpdate:visible":e[1]||(e[1]=i=>a.value=i),style:D([{width:"500px"},{"background-color":"rgb(255, 255, 255)",border:"none","border-radius":"1rem","padding-top":"2rem",color:"rgb(255, 7, 7)"}]),header:"Seleccion de sede",modal:!0,class:"p-fluid p-3"},{default:$(()=>[t("div",null,[j(m(s.product.id)+" ",1),t("input",{type:"file",onChange:x},null,32),n.value?(d(),u("div",E,[t("img",{src:n.value,style:{width:"100%",height:"30rem","object-fit":"contain"},alt:"Uploaded"},null,8,F)])):b("",!0),n.value?b("",!0):(d(),u("img",{key:1,class:"imagen",onError:g,src:`${l(p)}/read_product_image/300/${s.product.id}`,alt:""},null,40,N)),t("button",{onClick:e[0]||(e[0]=i=>C())},"Subir Imagen")])]),_:1},8,["visible"]),t("div",P,[t("div",S,[t("img",{class:"imagen",onError:g,src:`${l(p)}/read_product_image/300/${s.product.id}`,alt:""},null,40,V)]),t("div",A,[t("p",B,m(s.product.name),1)]),f(r,{style:{"box-shadow":"none"}}),t("div",L,[t("div",O,m(l(I)(s.product.price)),1),t("button",{onClick:e[2]||(e[2]=i=>a.value=!a.value),class:"add-cart-btn text-xl"},[t("i",{style:{color:"red","z-index":"99"},class:T(["icono text-5xl lg:text-6xl p-0 m-0",l(U).PENCIL])},null,2)])])])],64)}}},q=w(R,[["__scopeId","data-v-93c288d6"]]);export{q as t};
