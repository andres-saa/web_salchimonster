import{T as x}from"./TarjetaMenu-885cdf68.js";import{y as v,d as $,z as k,f as _,k as L,g as b,A as h,w as S,U as m,o as s,c,a as i,F as d,r as l,B as T,C as j,u as P,i as B}from"./index-6e541f7d.js";/* empty css                                                                    */const E={class:"grid px-3 pb-8",style:{"max-width":"1024px",margin:"auto",position:"relative"}},N={style:{position:"absolute",display:"flex",right:"100%",gap:"10rem",height:"100vh","max-width":"100%","justify-content":"space-around","flex-direction":"column","z-index":"9"}},V=["src"],z={style:{position:"absolute",display:"flex",left:"100%",gap:"10rem",height:"100vh","max-width":"100%","justify-content":"space-around","flex-direction":"column","z-index":"9"}},I=["src"],R={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},C=i("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),F=i("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),D={__name:"sesion",setup(H){const u=v(),f=$(),o=k(),p=_([]),n=L();b(async()=>{g(),await h();const a=n.params.product_id;if(a){const t=await y(a),e={id:t.product_instance_id,product_id:t.product_id,site_id:t.site_id,status:!0,price:t.product_instance_price,product_name:t.product_name,product_description:t.product_description,category_id:t.category_id,category_name:t.category_name,last_price:null};u.setCurrentProduct({...e}),u.setVisible("currentProduct",!0)}}),S(()=>n.params.category_id,async()=>{n.params.category_id&&(g(),await h())},{deep:!0});const y=async a=>{o.setLoading(!0,"cargando productos");try{let t=await fetch(`${m}/product/${a}`);if(!t.ok)throw o.setLoading(!1,"cargando"),new Error(`HTTP error! status: ${t.status}`);return o.setLoading(!1,"cargando "),(await t.json())[0]}catch(t){o.setLoading(!1,"cargando productos"),console.error("Error fetching data: ",t)}},g=async a=>{const t=f.location.site.site_id,e=n.params.category_id;if(e&&t){o.setLoading(!0,"cargando productos");try{let r=await fetch(`${m}/products-active/category-id/${e}/site/${t}`);if(!r.ok)throw o.setLoading(!1,"cargando productos"),new Error(`HTTP error! status: ${r.status}`);o.setLoading(!1,"cargando productos");let w=await r.json();p.value=w}catch(r){o.setLoading(!1,"cargando productos"),console.error("Error fetching data: ",r)}}};return _(JSON.parse(localStorage.getItem("currentNeigborhood"))),(a,t)=>(s(),c("div",E,[i("div",N,[(s(),c(d,null,l([1,2,3,4,5],e=>i("img",{style:{width:"15vw"},src:`/images/characters/line/${e}.png`,alt:""},null,8,V)),64))]),i("div",z,[(s(!0),c(d,null,l([1,2,3,4,5].reverse(),e=>(s(),c("img",{style:{width:"15vw"},src:`/images/characters/line/${e}.png`,alt:""},null,8,I))),256))]),i("p",R,[C,T(" "+j(P(n).params.menu_name)+" ",1),F]),(s(!0),c(d,null,l(p.value,(e,r)=>(s(),c("div",{key:e.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[B(x,{style:{width:"100%"},id:`tarjeta-${r}`,index:r+1,product:e},null,8,["id","index","product"])]))),128))]))}};export{D as default};
