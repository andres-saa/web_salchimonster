import{T as N}from"./TarjetaMenu-775b5ceb.js";import{_ as E,z as C,y as O,f as w,g as j,l as P,h as b,o as n,c,a as t,i as d,D as T,E as D,n as I,G as L,T as R,x as z,C as f,u as _,H as M,p as V,b as A,d as B,k as U,A as k,w as H,U as F,F as x,r as v,B as q}from"./index-4deec0ce.js";/* empty css                                                                          *//* empty css                                                                    */const G=l=>(V("data-v-0f900104"),l=l(),A(),l),J={class:"container shadow-3 col-12",style:{"border-radius":"0.5rem",height:"100%",position:"relative",display:"flex","flex-direction":"column","align-items":"center"}},Q=G(()=>t("h4",{class:"text-center m-0 p-3",style:{"background-color":"var(--primary-color)",color:"white",width:"min-content",position:"absolute","z-index":"2","border-radius":"10rem"}},[t("b",null," NUEVO ")],-1)),W=["src"],K={key:0,style:{width:"100%",display:"flex","justify-content":"center","align-items":"center","aspect-ratio":"1 / 1","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.5rem"}},X={class:"texto",style:{width:"100%"}},Y={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},Z={style:{display:"flex","justify-content":"space-between","align-items":"center"}},ee={style:{"text-transform":"uppercase"}},te=["src"],se={style:{display:"flex","justify-content":"space-between","align-items":"c"}},oe={style:{display:"flex","align-items":"center",gap:"1rem"}},re={class:"text-xl"},ie={__name:"TarjetaMenuDialog",props:{product:{type:Object,default:{}},index:{type:Number,default:12}},setup(l){const m=C(),r=O(),g=e=>{r.addProductToCart(e),m.visible.show_new_product=!1},i=w(!1),h=()=>{i.value=!0},y=e=>{r.setCurrentProduct(e),r.setVisible("currentProduct",!0)},o=l;j(()=>{const e=new IntersectionObserver(s=>{s.forEach(u=>{if(u.isIntersecting){const a=u.target;a.src=a.dataset.src,i.value[a.dataset.index]=!0,e.unobserve(a)}})},{threshold:.1});document.querySelectorAll("img.lazy").forEach((s,u)=>{s.dataset.index=u,e.observe(s)})});const p=P(()=>o.product.product_description.substring(0,100)+"...");return(e,s)=>{var S;const u=b("ProgressSpinner"),a=b("Button");return n(),c("div",J,[Q,t("div",{class:"imagen",style:{display:"flex","align-items":"center","z-index":"1","min-width":"100%"},onClick:s[0]||(s[0]=$=>y(o.product))},[d(R,{name:"fade"},{default:T(()=>[D(t("img",{onLoad:h,class:I(i.value?"cargado":"sin-cargar"),style:{width:"100%","aspect-ratio":"1 / 1","border-radius":"0.5rem","min-width":"100%","background-color":"rgb(255, 255, 255)","object-fit":"contain"},src:`https://backend.salchimonster.com/read-product-image/300/${o.product.product_name}`,alt:""},null,42,W),[[L,i.value]])]),_:1}),i.value?z("",!0):(n(),c("div",K,[d(u,{style:{width:"60px",height:"60px"},strokeWidth:"8",animationDuration:".2s","aria-label":"Custom ProgressSpinner"})]))]),t("div",X,[t("div",Y,[t("div",Z,[t("span",null,[t("b",ee,f(o.product.product_name),1)]),t("img",{class:"character",style:{width:"4rem"},src:`/images/characters/${o.index}.png`,alt:""},null,8,te)]),t("span",null,f((S=p.value)==null?void 0:S.toLocaleLowerCase()),1),t("div",se,[d(a,{icon:"pi pi-heart text-2xl",text:"",rounded:"",style:{color:"red"}}),t("div",oe,[t("span",re,[t("b",null,f(_(M)(o.product.price)),1)])])])])]),d(a,{style:{position:"absolute",right:"-1rem",top:"-1rem"},onClick:s[1]||(s[1]=$=>_(m).visible.show_new_product=!1),severity:"danger",rounded:"",icon:"pi pi-times text-xl fw-100"}),d(a,{style:{width:"100%","font-weight":"bold","border-radius":".5rem"},onClick:s[2]||(s[2]=$=>g(o.product)),severity:"danger",label:"LO QUIERO",icon:"pi pi-shopping-cart"})])}}},ae=E(ie,[["__scopeId","data-v-0f900104"]]),ne={class:"grid px-3 pb-8",style:{"max-width":"1024px",margin:"auto",position:"relative"}},ce={style:{"max-width":"30rem","background-color":"white",color:"black","border-radius":".5rem"},class:""},de={style:{position:"absolute",display:"flex",right:"100%",gap:"10rem",height:"100vh","max-width":"100%","justify-content":"space-around","flex-direction":"column","z-index":"9"}},le=["src"],ue={style:{position:"absolute",display:"flex",left:"100%",gap:"10rem",height:"100vh","max-width":"100%","justify-content":"space-around","flex-direction":"column","z-index":"9"}},pe=["src"],me=t("p",{class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},[t("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}}),q(" PROMOCIONES "),t("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}})],-1),fe={__name:"sesion_main",setup(l){O();const m=B(),r=C(),g=w([]),i=U();j(async()=>{h(),await k()}),H(()=>i.params.category_id,async()=>{i.params.category_id&&(h(),await k())},{deep:!0});const h=async y=>{const o=m.location.site.site_id,p=15;if(o){r.setLoading(!0,"cargando productos");try{let e=await fetch(`${F}/products-active/category-id/${p}/site/${o}/1`);if(!e.ok)throw r.setLoading(!1,"cargando productos"),new Error(`HTTP error! status: ${e.status}`);r.setLoading(!1,"cargando productos");let s=await e.json();g.value=s}catch(e){r.setLoading(!1,"cargando productos"),console.error("Error fetching data: ",e)}}};return w(JSON.parse(localStorage.getItem("currentNeigborhood"))),(y,o)=>{const p=b("Dialog");return n(),c("div",ne,[d(p,{class:"p-0 m-0",visible:_(r).visible.show_new_product,"onUpdate:visible":o[0]||(o[0]=e=>_(r).visible.show_new_product=e),modal:"",style:{width:"30rem",padding:"0"}},{default:T(()=>[t("div",ce,[d(ae,{product:{id:241,product_id:118,site_id:11,status:!0,price:1e4,product_name:"CHOCOMONSTER",product_description:" CHOCORRAMO APANADO",category_id:14,category_name:"NUEVOS"}})])]),_:1},8,["visible"]),t("div",de,[(n(),c(x,null,v([1,2,3,4,5],e=>t("img",{style:{width:"15vw"},src:`/images/characters/line/${e}.png`,alt:""},null,8,le)),64))]),t("div",ue,[(n(!0),c(x,null,v([1,2,3,4,5].reverse(),e=>(n(),c("img",{style:{width:"15vw"},src:`/images/characters/line/${e}.png`,alt:""},null,8,pe))),256))]),me,(n(!0),c(x,null,v(g.value,(e,s)=>(n(),c("div",{key:e.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[d(N,{style:{width:"100%"},id:`tarjeta-${s}`,index:s+1,product:e},null,8,["id","index","product"])]))),128))])}}};export{fe as default};
