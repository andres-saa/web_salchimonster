import{_ as T,f as N,l as q,y as z,d as A,E as D,g as E,w as F,h as v,o,c as n,a as t,F as f,r as k,C as l,B as w,u as e,D as p,j as x,J as j,x as h,H as y,i as g,p as H,b as L}from"./index-d32edcdc.js";import{o as J}from"./resumen.vue_vue_type_style_index_0_scoped_f62ca269_lang-e96cebdc.js";const i=m=>(H("data-v-f62ca269"),m=m(),L(),m),M={class:"p-1 my-5 md:my-0 col-12"},O={style:{position:"sticky",top:"5rem","border-radius":"0.5rem","z-index":"1000"},class:"col-12 p-3 p-shadow m-0"},U=i(()=>t("h5",null,[t("b",null,"Resumen")],-1)),G=i(()=>t("h5",null,[t("b",null,"productos")],-1)),K={class:"grid mb-0 pb-0"},Q={class:"col-6 py-2 mb-1"},W={style:{"min-width":"3rem"}},X={class:"col-6 my-0 text-right py-2"},Y={class:"col-12 p-0 mt-1"},Z={class:"mb-0"},$={class:"mb-1 text-center"},tt={style:{display:"flex",width:"100%",gap:"1rem","justify-content":"space-between"}},et={class:"text adicion",style:{"text-transform":""}},ot={key:0,class:"pl-2 text-sm"},st=i(()=>t("hr",{class:"p-0 mt-2"},null,-1)),nt={class:"grid"},lt=i(()=>t("div",{class:"col-6 my-0 py-0"},[t("span",null,[t("b",null,"Subtotal")])],-1)),at={class:"col-6 my-0 text-right py-0"},rt={class:"col-6 my-0 py-0"},it=i(()=>t("b",null,"Domicilio",-1)),ct=[it],dt={class:"col-6 my-0 text-right py-0"},ut={key:0,style:{color:"var(--primary-color)"}},_t=i(()=>t("b",null,"Recoger en local",-1)),pt=[_t],ht={key:1},yt=i(()=>t("div",{class:"col-6 my-0 py-0"},[t("span",null,[t("b",null,"Total")])],-1)),mt={class:"col-6 my-0 text-right py-0"},bt={__name:"resumen",setup(m){const I=N(!1),S=q(),c=z(),s=A(),V=D(),C=N({}),P=()=>{C.value=c.cart.additions.reduce((a,u)=>{let r=u.group;return a[r]||(a[r]=[]),a[r].push(u),a},{})};return E(()=>{var a;P(),((a=V.user.payment_method_option)==null?void 0:a.id)!=7?s.setNeighborhoodPrice():s.setNeighborhoodPriceCero()}),F(()=>c.cart.additions,()=>{P()},{deep:!0}),(a,u)=>{const r=v("Button"),b=v("router-link"),R=v("Tag");return o(),n("div",M,[t("div",O,[U,G,(o(!0),n(f,null,k(e(c).cart.products,_=>(o(),n("div",K,[t("div",Q,[t("span",null,[t("span",W,[t("b",null,l(_.quantity),1)]),w(" "+l(_.product.product_name),1)])]),t("div",X,[t("span",null,l(e(p)(_.total_cost)),1)])]))),256)),t("div",Y,[(o(!0),n(f,null,k(C.value,(_,B)=>(o(),n("div",{class:"p-0 mb-2",key:B,style:{position:"relative","border-radius":"0.3rem"}},[t("div",Z,[t("span",$,[t("b",null,l(B),1)]),(o(!0),n(f,null,k(_,d=>(o(),n("div",{key:d.aditional_item_instance_id,style:{display:"flex",gap:"1rem","align-items":"center"}},[t("div",tt,[t("span",et,[t("span",null,[t("b",null,l(d.quantity),1)]),w(" "+l(d.name),1)]),d.price>0?(o(),n("span",ot,[t("b",null,l(e(p)(d.price*d.quantity)),1)])):x("",!0)])]))),128))])]))),128))]),st,t("div",nt,[lt,t("div",at,[t("span",null,[t("b",null,l(e(p)(e(c).cart.total_cost)),1)])]),t("div",rt,[t("span",{style:j(e(s).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},ct,4)]),t("div",dt,[e(s).location.neigborhood.delivery_price==0?(o(),n("span",ut,pt)):(o(),n("span",ht,[t("b",null,l(e(p)(e(s).location.neigborhood.delivery_price)),1)]))]),yt,t("div",mt,[t("span",null,[t("b",null,l(e(p)(e(c).cart.total_cost+e(s).location.neigborhood.delivery_price)),1)])])]),e(S).path.includes("cart")?(o(),h(b,{key:0,to:"/SALCHIPAPAS/3"},{default:y(()=>[g(r,{outlined:"",icon:"pi pi-shopping-cart",label:"Seguir comprando",class:"mt-4",severity:"danger",style:{outline:"none",width:"100%","font-weight":"bold","background-color":"rgba(0, 0, 0, 0)"}})]),_:1})):(o(),h(b,{key:1,to:"/cart"},{default:y(()=>[g(r,{outlined:"",icon:"pi pi-arrow-left",label:"Volver al carrito",class:"mt-4",severity:"danger",style:{outline:"none",width:"100%","font-weight":"bold","background-color":"rgba(0, 0, 0, 0)"}})]),_:1})),e(s).status=="cerrado"?(o(),h(R,{key:2,style:{width:"100%",height:"2.5rem"},class:"mt-2",severity:"danger"},{default:y(()=>[w(" Este Restaurante esta cerrado")]),_:1})):x("",!0),e(S).path.includes("cart")&&e(s).status!="cerrado"?(o(),h(b,{key:3,to:"/pay"},{default:y(()=>[g(r,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"mt-2",severity:"help",style:{outline:"none",width:"100%",border:"none","font-weight":"bold","background-color":"black"}})]),_:1})):e(s).status!="cerrado"?(o(),h(b,{key:4,to:"/pay"},{default:y(()=>[g(r,{disabled:e(c).sending_order||e(s).status=="cerrado",onClick:u[0]||(u[0]=()=>{e(J).sendOrder(),I.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2",severity:"help",style:{outline:"none",width:"100%",border:"none","font-weight":"bold","background-color":"black"}},null,8,["disabled"])]),_:1})):x("",!0)])])}}},ft=T(bt,[["__scopeId","data-v-f62ca269"]]);export{ft as r};
