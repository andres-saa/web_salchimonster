import{r as o,E as i,U as d}from"./index-c357ea2e.js";const u=o({}),n=o(""),m=o(!1),l=JSON.parse(localStorage.getItem("currentNeigborhood")).currenNeigborhood.name,p=o(""),g=o(["Recoger en local","Efectivo","Pago con tarjeta (datafono),"]),h=async r=>{const t=`${d}/user`;r.user_address=`${r.user_address} ${l} `,console.log(r);const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};try{const e=await fetch(t,s);if(!e.ok)throw new Error(`Error en la solicitud para obtener user_id: ${e.status}`);return(await e.json()).user_id}catch(e){throw console.error("Error al obtener user_id:",e),e}},v=async()=>{const t=await(await fetch("https://backend.salchimonster.com/server_time")).json(),{fecha:s,hora:e}=t,a=u.value;a.site_id=JSON.parse(localStorage.getItem("currentNeigborhood")).currenSiteId;const c=await h(a);JSON.parse(localStorage.getItem("cart")).products,`${s.a}${s.m}${s.d}${e.h}${e.m}`,p.value,i.value.deliveryPrice,n.value==null||n.value==""||n.value};export{g as a,v as b,n as o,p,m as s,u};
