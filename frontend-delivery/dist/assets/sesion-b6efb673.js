import{E as _,U as m,_ as x,f as v,r as g,o as d,c as l,b as s,t as u,a as p,d as y,s as w,v as b,e as S,l as $,k,g as j,w as I,h as P,F as B,i as V}from"./index-fd91749d.js";import{f as C}from"./formatoPesos-2a38d2e7.js";const h={async getProductsByCategorySite(a,e){try{const t=await _.get(`${m}/products-all/category-id/${a}/site/${e}`);return t.status===200?t.data:(console.error("An error occurred while fetching the ingredients:",t.status),null)}catch(t){return console.error("An error occurred while fetching the ingredients:",t),null}},async updateProductInstanceStatus(a,e){try{const t=await _.put(`${m}/product-instance/${a}/status`,{new_status:e});return t.status===200?(console.log("Product instance status updated successfully:",t.data),t.data):(console.error("Failed to update product instance status:",t.status),null)}catch(t){return console.error("Error updating product instance status:",t),null}}};const T=a=>(w("data-v-a2aa2730"),a=a(),b(),a),F={class:"container p-shadow col-12",style:{"border-radius":"0.5rem",height:"100%",position:"relative"}},M={class:"imagen"},E=["src"],N={class:"texto",style:{}},U={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},A={style:{display:"flex","justify-content":"space-between","align-items":"center"}},R={style:{"text-transform":"uppercase"}},D=T(()=>s("span",null,null,-1)),L={style:{display:"flex","justify-content":"space-between","align-items":"c"}},O={style:{display:"flex","align-items":"center",gap:"1rem"}},q={class:"text-xl"},z={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(a){const e=a,t=async r=>{try{const o=await h.updateProductInstanceStatus(e.product.id,r);o&&console.log("Status updated:",o)}catch(o){console.error("Failed to update status:",o)}};return v(()=>e.product.product_description.substring(0,100)+"..."),(r,o)=>{const c=g("Button"),i=g("InputSwitch");return d(),l("div",F,[s("div",M,[s("img",{class:"",style:{width:"100%",height:"100%","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.2rem"},src:`https://backend.salchimonster.com/read-product-image/300/${e.product.product_name}`,alt:"",onClick:o[0]||(o[0]=n=>r.open(e.product))},null,8,E)]),s("div",N,[s("div",U,[s("div",A,[s("span",null,[s("b",R,u(e.product.product_name),1)]),p(c,{text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),D,s("div",L,[p(i,{modelValue:e.product.status,"onUpdate:modelValue":[o[1]||(o[1]=n=>e.product.status=n),o[2]||(o[2]=n=>t(e.product.status))]},null,8,["modelValue"]),s("div",O,[s("span",q,[s("b",null,u(y(C)(e.product.price)),1)])])])])])])}}},G=x(z,[["__scopeId","data-v-a2aa2730"]]),H={class:"grid p-1 pb-8",style:{"max-width":"1024px",margin:"auto"}},J={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},K=s("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),Q=s("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),Y={__name:"sesion",setup(a){const e=S(),t=$(),r=k([]);j(async()=>{o()});const o=async()=>{const c=t.params.category_id,i=e.site.site_id;r.value=await h.getProductsByCategorySite(c,i)};return I(()=>t.params.category_id,async()=>{t.params.category_id&&(o(),await nextTick())},{deep:!0}),(c,i)=>(d(),l("div",H,[s("p",J,[K,P(" "+u(y(t).params.menu_name)+" ",1),Q]),(d(!0),l(B,null,V(r.value,(n,f)=>(d(),l("div",{key:n.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[p(G,{style:{width:"100%"},id:`tarjeta-${f}`,product:n},null,8,["id","product"])]))),128))]))}};export{Y as default};
