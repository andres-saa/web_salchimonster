import{_ as E,a as l,c as i,e as t,F as w,f as v,t as n,z as C,u as s,n as y,k as A,B as r,C as O,D as N,d as W,o as X,U as Y,b as x,r as R,w as T,E as Z,G as k,H as G,s as $,q as tt,P as et,I as st,J as ot}from"./index-22ac9fa9.js";import{f}from"./formatoPesos-2a38d2e7.js";function K(a){const c={};return a.forEach(d=>{const e=d.name,u=JSON.stringify(d.adiciones),o=JSON.stringify(d.salsas),_=JSON.stringify(d.toppings),p=JSON.stringify(d.acompanantes),g=`${e}-${u}-${o}-${_}-${p}`;c[g]?c[g].quantity++:c[g]={product:d,quantity:1}}),Object.values(c)}function S(a){if(!a.price)return 0;function c(p){return!p||!Array.isArray(p)?0:p.reduce((g,m)=>g+(m.price||0),0)}const d=c(a.adiciones),e=c(a.cambios),u=c(a.toppings),o=c(a.acompanantes);return a.price+d+e+u+o}function Q(a){return Array.isArray(a)?a.reduce((c,d)=>c+S(d),0):0}const Ne=a=>{let c=0;for(const d of a)c+=S(d.product);return c};const b=a=>(O("data-v-5130c9ef"),a=a(),N(),a),nt={class:"mt-4 p-0 p-0 m-0",style:{position:"relative",padding:"0 1rem","background-color":"white"}},at={class:"productos p-0 m-0"},lt={class:"producto p-0 m-0",style:{display:"flex","justify-content":"space-between","align-items":"center","flex-direction":"column"}},it={class:"col-12 p-0 grid m-0",style:{"justify-content":"space-between","align-items":"center"}},rt={class:"col p-0 m-0",style:{"font-weight":"bold",display:"flex","min-width":"80%",margin:"0",gap:"0.5rem"}},ct=b(()=>t("p",{class:"name-product",style:{width:"auto"}},null,-1)),dt={style:{display:"flex",gap:"0rem","justify-content":"end",width:"min-content"},class:"col p-0 text-right"},pt={key:0,class:"col-12 p-0 pl-3 mt-1 mb-0",style:{"font-weight":"bold"}},mt={class:"col-12 p-0 pl-3 m-0",style:{display:"flex","justify-content":"space-between","align-items":"center"}},ut={class:"p-0 m-0",style:{"text-transform":"uppercase",margin:"0",padding:"0.1rem 0",width:"auto"}},_t={style:{"font-weight":"",height:""}},ht={key:1,class:"col-12 p-0 pl-3 mt-1 mb-0",style:{"font-weight":"bold"}},gt={class:"col-12 p-0 pl-3",style:{display:"flex","justify-content":"space-between","align-items":"center"}},yt={class:"",style:{"text-transform":"uppercase",margin:"0",padding:"0.1rem 0",width:"100%"}},bt={style:{"font-weight":"",height:""}},ft={key:2,class:"col-12 p-0 pl-3 mt-1 mb-0",style:{"font-weight":"bold"}},wt={class:"col-12 p-0 pl-3",style:{display:"flex","justify-content":"space-between","align-items":"center"}},xt={class:"",style:{"text-transform":"uppercase",margin:"0",padding:"0.1rem 0",width:"100%"}},vt={style:{"font-weight":"",height:""}},kt={key:3,class:"col-12 p-0 pl-3 mt-1 mb-0",style:{"font-weight":"bold"}},$t={class:"col-12 p-0 pl-3",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Tt={class:"",style:{"text-transform":"uppercase",margin:"0",padding:"0.1rem 0",width:"100%"}},At={style:{"font-weight":"",height:""}},It={key:4,class:"col-12 p-0 pl-3 mt-1 mb-0",style:{"font-weight":"bold"}},Rt={class:"col-12 p-0 pl-3",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Ct={class:"",style:{"text-transform":"uppercase",margin:"0",padding:"0.1rem 0",width:"100%"}},Et={key:5,class:"p-0 col-12 pl-3",style:{display:"flex","justify-content":"space-between","border-radius":""}},Ot={class:"text-left text-md p-0 m-0 mb-1",style:{"font-weight":"bold",height:"","text-transform":""}},Nt=b(()=>t("b",{style:{"font-weight":"bold"}},"TOTAL",-1)),St={class:"text-right text-md p-0 m-0 text-l",style:{"font-weight":"bold",height:""}},Pt={key:6,class:"col-12 mb-0 mt- p-0 m-2 my-2",style:{height:"2px","background-color":"rgba(0, 0, 0, 0.2)"}},jt=b(()=>t("div",{class:"col-12 mb-0 mt- p-0 m-0",style:{width:"100%","border-bottom":"2px solid","margin-top":"0rem"}},null,-1)),Mt={class:"text-md p-0 mb-0 py-0 mt-2",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},Dt=b(()=>t("span",{class:"text-md",style:{"font-weight":"bold"}}," SUBTOTAL ",-1)),qt={class:"text-md",style:{"font-weight":"bold"}},Bt={class:"text-md p-0 col-12 my-0",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},zt={style:{"font-weight":"bold","text-transform":"uppercase"}},Lt={style:{"margin-right":"1rem",cursor:"pointer","font-weight":"normal",color:"var(--primary-color)"}},Ut={class:"domi-name",style:{"text-transform":"uppercase"}},Vt={class:"text-md",style:{"font-weight":"bold"}},Ft={class:"text-md p-0 my-0",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},Jt=b(()=>t("span",{class:"pb-1",style:{"font-weight":"bold"}}," Total ",-1)),Ht={class:"text-md",style:{"font-weight":"bold"}},Gt=b(()=>t("p",{class:"text-l mt-2 text-l pl-3 p-0 p-0 m-0",style:{"font-weight":"bold",color:"white","background-color":"black"}},"NOTAS DEl PEDIDO",-1)),Kt={style:{"text-transform":"lowercase"},class:"col-12 mt-0 p-0 notes",type:"text",name:"",id:"dynamicTextarea"},Qt=b(()=>t("p",{class:"text-l text-l pl-3 p-0 p-0 mt-1 mb-1",style:{"font-weight":"bold",color:"white","background-color":"black"}},"DATOS DE USUARIO",-1)),Wt={class:"col-12 grid p-0 m-0",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Xt=b(()=>t("p",{class:"col p-0 m-0",style:{"text-transform":"uppercase",margin:"0",width:"100%"}},[t("span",null," NOMBRE")],-1)),Yt={class:"col text-right p-0 m-0",style:{"font-weight":"",height:""}},Zt={class:"col-12 grid p-0 m-0",style:{display:"flex","justify-content":"space-between","align-items":"center"}},te=b(()=>t("p",{class:"col p-0 m-0",style:{"text-transform":"uppercase",margin:"0",width:"100%"}},[t("span",null," Telefono")],-1)),ee={class:"col text-right p-0 m-0",style:{"font-weight":"",height:""}},se={class:"col-12 grid p-0 m-0",style:{display:"flex","justify-content":"space-between","align-items":"center"}},oe=b(()=>t("p",{class:"col p-0 m-0",style:{"text-transform":"uppercase",margin:"0",width:"100%"}},[t("span",null," direccion")],-1)),ne={class:"col text-right p-0 m-0",style:{"font-weight":"",height:""}},ae={class:"col-12 grid p-0 m-0",style:{display:"flex","justify-content":"space-between","align-items":"center"}},le=b(()=>t("p",{class:"col p-0 m-0",style:{"text-transform":"uppercase",margin:"0",width:"100%"}},[t("span",null," Metodo de pago")],-1)),ie={class:"col text-right p-0 m-0",style:{"font-weight":"",height:""}},re={__name:"resumen",setup(a){return(c,d)=>(l(),i("div",nt,[t("div",at,[(l(!0),i(w,null,v(s(K)(s(r).order_products),(e,u)=>{var o,_,p,g,m,j,M,D,q,B,z,L,U,V,F,J,H;return l(),i("div",lt,[t("div",it,[t("p",rt,[t("span",null,n(`${e.quantity} ${e.product.name}`),1),ct]),t("div",dt,[t("p",{style:C([((o=e.product.adiciones)==null?void 0:o.length)>0||((_=e.product.toppings)==null?void 0:_.length)>0||((p=e.product.cambios)==null?void 0:p.length)>0||((g=e.product.acompanantes)==null?void 0:g.length)>0?"bold":"font-weight:bold",{height:""}])},n(s(f)(e.quantity*e.product.price)),5)])]),((m=e.product.adiciones)==null?void 0:m.length)>0?(l(),i("p",pt," ADICIONES")):y("",!0),(l(!0),i(w,null,v(e.product.adiciones,h=>(l(),i("div",mt,[t("p",ut,[t("span",null,n(e.quantity)+" de "+n(h.name),1)]),t("p",_t,n(s(f)(e.quantity*h.price)),1)]))),256)),((j=e.product.cambios)==null?void 0:j.length)>0?(l(),i("p",ht," CAMBIOS")):y("",!0),(l(!0),i(w,null,v(e.product.cambios,h=>(l(),i("div",gt,[t("p",yt,[t("span",null,n(e.quantity)+" POR "+n(h.name),1)]),t("p",bt,n(s(f)(e.quantity*h.price)),1)]))),256)),((M=e.product.toppings)==null?void 0:M.length)>0?(l(),i("p",ft," TOPPINGS")):y("",!0),(l(!0),i(w,null,v(e.product.toppings,h=>(l(),i("div",wt,[t("p",xt,[t("span",null,n(e.quantity)+" de "+n(h.name),1)]),t("p",vt,n(s(f)(e.quantity*h.price)),1)]))),256)),((D=e.product.acompanantes)==null?void 0:D.length)>0?(l(),i("p",kt," ACOMPANANTES")):y("",!0),(l(!0),i(w,null,v(e.product.acompanantes,h=>(l(),i("div",$t,[t("p",Tt,[t("span",null,n(e.quantity)+" "+n(h.name),1)]),t("p",At,n(s(f)(e.quantity*h.price)),1)]))),256)),((q=e.product.salsas)==null?void 0:q.length)>0?(l(),i("p",It," SALSAS")):y("",!0),(l(!0),i(w,null,v(e.product.salsas,h=>(l(),i("div",Rt,[t("p",Ct,[t("span",null,n(h),1)])]))),256)),((B=e.product.adiciones)==null?void 0:B.length)>0||((z=e.product.toppings)==null?void 0:z.length)>0||((L=e.product.acompanantes)==null?void 0:L.length)>0||((U=e.product.cambios)==null?void 0:U.length)>0?(l(),i("div",Et,[t("p",Ot,[Nt,A(" "+n(e.quantity)+" "+n(e.product.name)+" "+n(((V=e.product.adiciones)==null?void 0:V.length)>1?" + adiciones":"")+" "+n(((F=e.product.toppings)==null?void 0:F.length)>0?" + toppings":"")+" "+n(((J=e.product.cambios)==null?void 0:J.length)>0?" + cambios":"")+" "+n(((H=e.product.acompanantes)==null?void 0:H.length)>0?" + acompanantes":""),1)]),t("p",St,n(s(f)(e.quantity*s(S)(e.product))),1)])):y("",!0),u!=s(K)(s(r).order_products).length-1?(l(),i("div",Pt)):y("",!0)])}),256))]),jt,t("div",Mt,[Dt,t("span",qt,n(s(f)(s(Q)(s(r).order_products))),1)]),t("div",Bt,[t("span",zt,[A(" Domicilio a "),t("span",Lt,[t("span",Ut,n(s(r).user_data.user_address),1)])]),t("span",Vt,n(s(f)(s(r).delivery_price)),1)]),t("div",Ft,[Jt,t("span",Ht,n(s(f)(s(Q)(s(r).order_products)+s(r).delivery_price)),1)]),Gt,t("div",Kt,n(s(r).order_notes),1),Qt,t("div",Wt,[Xt,t("p",Yt,n(s(r).user_data.user_name),1)]),t("div",Zt,[te,t("p",ee,n(s(r).user_data.user_phone),1)]),t("div",se,[oe,t("p",ne,n(s(r).user_data.user_address),1)]),t("div",ae,[le,t("p",ie,n(s(r).payment_method),1)])]))}},ce=E(re,[["__scopeId","data-v-5130c9ef"]]);const P=a=>(O("data-v-2c5c4d1d"),a=a(),N(),a),de={class:"col-12 p-0 m-0 xl:col-12 p-0 md:p-3 texto-negro",style:{width:"100%"}},pe=P(()=>t("div",{class:"col-12 p-0",style:{display:"flex"}},[t("img",{class:"m-auto",src:"https://salchimonster.com/images/logo.png",alt:"",style:{height:"4rem",width:"4rem","object-fit":"contain"}})],-1)),me=P(()=>t("p",{class:"text-xl col-12 text-center",style:{"font-weight":"bold"}},"SALCHIMONSTER",-1)),ue={class:"text-xl col-12 text-center",style:{"font-weight":"bold"}},_e=P(()=>t("p",{class:"text-l pl-4 p-0 p-0",style:{"font-weight":"bold",color:"white","background-color":"black"}},"ENTREGAR",-1)),he={key:0,class:"text-xl p-2 mt-4",style:{color:"rgb(0, 0, 0)","background-color":"rgba(255, 0, 0, 0.307)"}},ge={__name:"factura",setup(a){const c=W({});return X(async()=>{const d=`${Y}/user/${r.value.user_id}`;try{const e=await fetch(d);if(!e.ok)throw new Error(`Error en la solicitud: ${e.status}`);const u=await e.json();c.value=u}catch(e){console.error("Error en la solicitud:",e)}}),(d,e)=>{var u,o,_;return l(),i("div",de,[pe,me,t("p",ue,"ORDEN #"+n(s(r).order_id),1),_e,x(ce),((o=(u=s(r))==null?void 0:u.order_status)==null?void 0:o.status)=="cancelada"?(l(),i("p",he,n((_=s(r))==null?void 0:_.order_status.reazon),1)):y("",!0)])}}},ye=E(ge,[["__scopeId","data-v-2c5c4d1d"]]);const I=a=>(O("data-v-37ad588f"),a=a(),N(),a),be={style:{display:"flex","flex-direction":"column",width:"100%","align-items":"center",gap:"20px"}},fe={style:{display:"flex",gap:"1rem"}},we={class:"btn_accion_dialogo",style:{position:"absolute",bottom:"1rem",display:"flex",gap:"2rem"}},xe=I(()=>t("span",{class:"text-xl p-0",style:{border:"none","font-weight":"bold"}},"PREPARAR",-1)),ve=[xe],ke=I(()=>t("span",{class:"text-xl p-0",style:{border:"none","font-weight":"bold"}},"ENVIAR",-1)),$e=[ke],Te=I(()=>t("span",{class:"text-xl",style:{border:"none","font-weight":"bold"}},"CANCELAR",-1)),Ae=[Te],Ie=I(()=>t("span",{class:"text-xl p-0",style:{border:"none","font-weight":"bold"}},"IMPRIMIR",-1)),Re=[Ie],Ce={__name:"dialogo-pedido",setup(a){const c=W("El encargado no dio razones"),d=()=>{k.value=!0},e=()=>{const u=document.getElementById("factura").innerHTML,o=window.open("","_blank");o.document.write("<html><head><title>Factura</title>");const _=document.getElementsByTagName("style");for(let p=0;p<_.length;p++)o.document.write(_[p].outerHTML);o.document.write("<style> @media print { html{height: min-content;} .negrilla{background-color:black !IMPORTANT; color:white !IMPORTANT;} *{ font-family: sans-serif; padding: 0 !IMPORTANT; margin: 0rem !IMPORTANT; font-size:0.95rem !IMPORTANT} body { -webkit-print-color-adjust: exact; /* Chrome, Safari */ color-adjust: exact; /* Firefox */ } } </style>"),o.document.write("</head><body>"),o.document.write(u),o.document.write("</body></html>"),o.document.close(),o.print(),setTimeout(()=>{o.close()},.01)};return(u,o)=>{const _=R("Textarea"),p=R("Button"),g=R("Dialog");return l(),i(w,null,[x(g,{class:"dialogo",style:C([{"border-radius":"1rem",overflow:"","background-color":"rgb(255, 255, 255)",color:"black"},{width:"40rem"}]),visible:s(k),"onUpdate:visible":o[3]||(o[3]=m=>G(k)?k.value=m:null),modal:"",breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:T(()=>[t("div",be,[x(_,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=m=>c.value=m),style:{width:"100%","min-height":"10rem"},placeholder:"Razon por la cual cancelara el pedido"},null,8,["modelValue"]),t("div",fe,[x(p,{severity:"danger",outlined:"",onClick:o[1]||(o[1]=()=>{s(Z)(s(r),c.value)})},{default:T(()=>[A(" CANCELAR PEDIDO")]),_:1}),x(p,{severity:"danger",onClick:o[2]||(o[2]=m=>k.value=!1)},{default:T(()=>[A(" CERRAR")]),_:1})])])]),_:1},8,["visible"]),x(g,{class:"dialogo",style:C([{"padding-bottom":"7rem","border-radius":"1rem",overflow:"","background-color":"rgb(255, 255, 255)",color:"black"},{width:"40rem"}]),visible:s($),"onUpdate:visible":o[8]||(o[8]=m=>G($)?$.value=m:null),modal:"",closeButton:"false",breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:T(()=>[t("button",{class:"btn_cerrar",onClick:o[4]||(o[4]=m=>$.value=!s($)),style:{"z-index":"99","background-color":"red",width:"3rem",height:"3rem","border-radius":"50rem",padding:"0.5rem",border:"none",color:"white",position:"absolute",right:"-1rem",top:"-1rem"}},[t("i",{style:{color:"white","font-weight":"bold"},class:tt(s(et).TIMES)},null,2)]),x(ye,{class:"factura",id:"factura"}),t("div",we,[s(r).order_status.status=="generada"&&s(r).order_status.status!="enviada"?(l(),i("button",{key:0,onClick:o[5]||(o[5]=m=>s(st)(s(r))),style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"0rem 2rem","border-radius":"0.5rem","background-color":"rgb(0, 255, 106)"}},ve)):y("",!0),s(r).order_status.status=="en preparacion"&&s(r).order_status.status!="enviada"?(l(),i("button",{key:1,onClick:o[6]||(o[6]=m=>s(ot)(s(r))),style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"0rem 2rem","border-radius":"0.5rem","background-color":"rgb(0, 255, 0)"}},$e)):y("",!0),s(r).order_status.status!="enviada"?(l(),i("button",{key:2,onClick:o[7]||(o[7]=m=>d()),style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"0.5rem 1rem","border-radius":"0.5rem","background-color":"rgb(255, 120, 120)"}},Ae)):y("",!0),t("button",{onClick:e,style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"0.5rem 2rem","border-radius":"0.5rem","background-color":"rgb(255, 246, 120)"}},Re)])]),_:1},8,["visible"])],64)}}},Se=E(Ce,[["__scopeId","data-v-37ad588f"]]);export{Se as D,K as c,Ne as s};
