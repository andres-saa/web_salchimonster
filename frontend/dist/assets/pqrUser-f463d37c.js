import{z as b,e as _,U as g,k as z,_ as H,f as c,g as F,h as p,o as v,c as h,i as u,H as x,a as o,j as m,F as G,B as E,C as M,p as O,b as J}from"./index-1afe8c3f.js";const K="/assets/5-86724fd3.png",W={store:b(),resolve(){this.store.setLoading(!1,"")},async getPqrsByPlaceId(a){this.store.setLoading(!0,"Cargando PQRS");try{const t=await _.get(`${g}/get-pqrs-by-place-id/${a}`);return t.status===200?(this.resolve(),t.data):(console.error("No se ha podido cargar las PQRS"),this.resolve(),null)}catch(t){throw console.error("Error al cargar las PQRS:",t),this.resolve(),new Error("Error al cargar las PQRS")}},async createPqrs(a){this.store.setLoading(!0,"Creando PQRS");try{const t=await _.post(`${g}/create_pqrs/`,a);return t.status===200?(this.resolve(),t.data):(console.error("No se ha podido crear la PQRS"),this.resolve(),null)}catch(t){throw console.error("Error al crear la PQRS:",t),this.resolve(),new Error("Error al crear la PQRS")}},async updatePqrs(a,t){this.store.setLoading(!0,"Editando PQRS");try{const i=await _.put(`${g}/update_pqrs/${t}`,a);return i.status===200?(this.resolve(),i.data):(console.error("No se ha podido crear la PQRS"),this.resolve(),null)}catch(i){throw console.error("Error al crear la PQRS:",i),this.resolve(),new Error("Error al crear la PQRS")}},async deletePqrs(a){this.store.setLoading(!0,"Eliminando PQRS");try{const t=await _.delete(`${g}/delete_pqrs/${a}`);return t.status===200?(this.resolve(),t.data):(console.error("No se ha podido crear la PQRS"),this.resolve(),null)}catch(t){throw console.error("Error al crear la PQRS:",t),this.resolve(),new Error("Error al crear la PQRS")}}},Q={router:z,async get(a,t,i={}){const n=b();try{t?n.setLoading(!0,t):n.setLoading(!0,"cargando");const s={headers:i.headers||{}},e=await _.get(a,s);return e.status===200?(n.setLoading(!1),e.data):(n.setLoading(!1),console.error("An error occurred while fetching data:",e.status),null)}catch(s){return n.setLoading(!1),console.error("An error occurred while fetching data:",s),null}},async post(a,t,i,n=null){const s=b();try{s.setLoading(!0,i);const e=await _.post(a,t);return e.status===200||e.status===201?(s.setLoading(!1),n&&this.router.push(n),e.data):(s.setLoading(!1),console.error("An error occurred while posting data:",e.status),null)}catch(e){return s.setLoading(!1),console.error("An error occurred while posting data:",e),null}},async put(a,t,i,n=null){const s=b();try{s.setLoading(!0,i);const e=await _.put(a,t);return e.status===200||e.status===204?(s.setLoading(!1),n&&this.router.push(n),e.data):(s.setLoading(!1),console.error("An error occurred while updating data:",e.status),null)}catch(e){return s.setLoading(!1),console.error("An error occurred while updating data:",e),null}},async delete(a,t,i=null){const n=b();try{n.setLoading(!0,t);const s=await _.delete(a);return s.status===200||s.status===204?(n.setLoading(!1),i&&this.router.push(i),s.data):(n.setLoading(!1),console.error("An error occurred while deleting data:",s.status),null)}catch(s){return n.setLoading(!1),console.error("An error occurred while deleting data:",s),null}}};const d=a=>(O("data-v-d8348762"),a=a(),J(),a),X={style:{height:"auto",color:"black","background-color":"white",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},Y=d(()=>o("h4",null,"Hemos recibido su solicitud y ha quedado registrada con el id ",-1)),Z=d(()=>o("br",null,null,-1)),ee={class:"text-center",style:{width:"auto","font-size":"3rem"}},te={style:{height:"auto",color:"black",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},oe=d(()=>o("br",null,null,-1)),se=d(()=>o("b",null,[o("p",{class:"text-center",style:{width:"auto","font-size":"3rem"}}," Muchas gracias")],-1)),re={class:"container mt-8 col-12 p-4 shadow-3",style:{"max-width":"400px",margin:"auto"}},le=d(()=>o("h2",{class:"mb-0"},[E("üî• "),o("b",null,"MONTER HELP"),E(" üî•")],-1)),ae=d(()=>o("h2",{style:{color:"var(--primary-color)"},class:"my-0"},[o("b",null,"Siempre te escuchamos")],-1)),ne=d(()=>o("img",{src:K},null,-1)),ie={class:"form",style:{width:"100%",display:"flex","flex-direction":"column",gap:"1rem"}},ue={class:"input"},de=d(()=>o("h5",{class:"field"},"¬øC√≥mo te podemos ayudar?",-1)),ce={key:0,class:"input"},pe=d(()=>o("h5",{class:"field"},"Sede",-1)),ve={key:1,class:"input"},he=d(()=>o("h5",{class:"field"},[E("ID de la orden ejemplo "),o("b",null,"BRE-0554")],-1)),_e={key:2,class:"input p-3",style:{"background-color":"#00f3ff29"}},fe=d(()=>o("h5",{class:"field"},"Calif√≠canos",-1)),me={key:3,class:"input"},ge=d(()=>o("h5",{class:"field"},"Comentarios",-1)),ye={key:4,class:"input"},we=d(()=>o("h5",{class:"field"},"Nombre",-1)),be={key:5,class:"input"},Se=d(()=>o("h5",{class:"field"},"N√∫mero de tel√©fono",-1)),Ve={key:6,class:"input"},Pe=d(()=>o("h5",{class:"field"},"Direcci√≥n (opcional)",-1)),Le={class:"input",style:{display:"flex","justify-content":"end"}},xe={__name:"pqrUser",setup(a){const t=c(),i=c(!1),n=c([]),s=c(!1),e=c(),w=c(),U=c([]),I=c([]),R=c(""),S=c(""),V=c(""),k=c(""),P=c(""),L=c(null),$=async()=>{n.value=await W.getPqrsByPlaceId(1)},A=async()=>{var r,y;if(!e.value){alert("Por favor, seleccione un tipo de requerimiento.");return}if(e.value==9&&!R.value){alert("Por favor, ingrese el ID de la orden.");return}if(e.value!=8&&!P.value){alert("Por favor, Cuentenos lo sucedido");return}if(e.value!=8&&(!S.value||!V.value)){alert("Por favor, complete los campos obligatorios (nombre y tel√©fono).");return}if(!w.value){alert("Por favor, Seleccione la sede");return}if(e.value==8&&!L.value){alert("Por favor, Seleccione una calificacion");return}const N={data:{reques_type_id:e.value,content:P.value||"Sin comentarios",channel_id:1,rating:L.value||null,site_id:w.value||null,network_id:4},user:{user_name:S.value||"",user_phone:((r=V.value)==null?void 0:r.toString())||"",user_address:k.value||"",site_id:w.value||null}};try{const f=await Q.post(`${g}/create-pqr`,N);t.value=(y=f==null?void 0:f.pqr_id[0])==null?void 0:y.id,e.value==8?s.value=!0:i.value=!0}catch{}};return F(async()=>{$(),I.value=await Q.get(`${g}/get-all-pqrs-types`),U.value=await Q.get(`${g}/sites`),e.value=8}),(N,r)=>{const y=p("Button"),f=p("router-link"),C=p("Dialog"),D=p("Dropdown"),q=p("InputText"),B=p("Rating"),T=p("Textarea"),j=p("InputNumber");return v(),h(G,null,[u(C,{class:"mx-4",visible:i.value,"onUpdate:visible":r[0]||(r[0]=l=>i.value=l),modal:"",style:{width:"30rem","background-color":"white"}},{default:x(()=>[o("div",X,[Y,E(),Z,o("b",null,[o("p",ee,M(t.value),1)]),u(f,{to:"/"},{default:x(()=>[u(y,{class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})]),_:1})])]),_:1},8,["visible"]),u(C,{class:"mx-4",visible:s.value,"onUpdate:visible":r[1]||(r[1]=l=>s.value=l),modal:"",style:{width:"30rem","background-color":"white"}},{default:x(()=>[o("div",te,[oe,se,u(f,{to:"/"},{default:x(()=>[u(y,{class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})]),_:1})])]),_:1},8,["visible"]),o("div",re,[le,ae,ne,o("div",ie,[o("div",ue,[de,u(D,{modelValue:e.value,"onUpdate:modelValue":r[2]||(r[2]=l=>e.value=l),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:I.value,optionLabel:"name"},null,8,["modelValue","options"])]),e.value?(v(),h("div",ce,[pe,u(D,{options:U.value.filter(l=>l.show_on_web),modelValue:w.value,"onUpdate:modelValue":r[3]||(r[3]=l=>w.value=l),optionValue:"site_id",optionLabel:"site_name",style:{width:"100%"}},null,8,["options","modelValue"])])):m("",!0),e.value&&e.value==9?(v(),h("div",ve,[he,u(q,{modelValue:R.value,"onUpdate:modelValue":r[4]||(r[4]=l=>R.value=l),style:{width:"100%"},placeholder:"Escriba el n√∫mero de la orden"},null,8,["modelValue"])])):m("",!0),e.value&&(e.value==9||e.value==8)?(v(),h("div",_e,[fe,u(B,{modelValue:L.value,"onUpdate:modelValue":r[5]||(r[5]=l=>L.value=l),cancel:!1},null,8,["modelValue"])])):m("",!0),e.value?(v(),h("div",me,[ge,u(T,{modelValue:P.value,"onUpdate:modelValue":r[6]||(r[6]=l=>P.value=l),rows:"5",style:{width:"100%",resize:"none"},placeholder:"Deja tus comentarios"},null,8,["modelValue"])])):m("",!0),e.value&&e.value!=8?(v(),h("div",ye,[we,u(q,{modelValue:S.value,"onUpdate:modelValue":r[7]||(r[7]=l=>S.value=l),style:{width:"100%"},placeholder:"Escriba su nombre por favor"},null,8,["modelValue"])])):m("",!0),e.value&&e.value!=8?(v(),h("div",be,[Se,u(j,{useGrouping:!1,modelValue:V.value,"onUpdate:modelValue":r[8]||(r[8]=l=>V.value=l),style:{width:"100%"},placeholder:"Escriba su n√∫mero de tel√©fono"},null,8,["modelValue"])])):m("",!0),e.value&&e.value!=8?(v(),h("div",Ve,[Pe,u(q,{modelValue:k.value,"onUpdate:modelValue":r[9]||(r[9]=l=>k.value=l),style:{width:"100%"},placeholder:"Escriba su direcci√≥n"},null,8,["modelValue"])])):m("",!0),o("div",Le,[u(y,{label:"Enviar",style:{"font-weight":"bold"},severity:"info",onClick:A})])])])],64)}}},Re=H(xe,[["__scopeId","data-v-d8348762"]]);export{Re as default};
