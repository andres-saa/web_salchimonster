import{C as se,D as W,_ as ae,k as I,u as de,g as oe,U as re,f as ie,r as z,o as C,c as A,b as e,a as x,p as L,E as $,d as b,G as N,h as T,t as _,x as H,y as B,n as ce,F as V,i as F,s as ue,v as fe}from"./index-aa9b2e8b.js";import{f as R}from"./formatoPesos-2a38d2e7.js";import{u as K}from"./reportes-056a0acf.js";const le={router:se,async get(M,S,s={}){const d=K();try{S?d.setLoading(!0,S):d.setLoading(!0,"cargando");const t={headers:s.headers||{}},i=await W.get(M,t);return i.status===200?(d.setLoading(!1),i.data):(d.setLoading(!1),console.error("An error occurred while fetching data:",i.status),null)}catch(t){return d.setLoading(!1),console.error("An error occurred while fetching data:",t),null}},async post(M,S,s,d=null){const t=K();try{t.setLoading(!0,s);const i=await W.post(M,S);return i.status===200||i.status===201?(t.setLoading(!1),d&&this.router.push(d),i.data):(t.setLoading(!1),console.error("An error occurred while posting data:",i.status),null)}catch(i){return t.setLoading(!1),console.error("An error occurred while posting data:",i),null}},async put(M,S,s,d=null){const t=K();try{t.setLoading(!0,s);const i=await W.put(M,S);return i.status===200||i.status===204?(t.setLoading(!1),d&&this.router.push(d),i.data):(t.setLoading(!1),console.error("An error occurred while updating data:",i.status),null)}catch(i){return t.setLoading(!1),console.error("An error occurred while updating data:",i),null}},async delete(M,S,s=null){const d=K();try{d.setLoading(!0,S);const t=await W.delete(M);return t.status===200||t.status===204?(d.setLoading(!1),s&&this.router.push(s),t.data):(d.setLoading(!1),console.error("An error occurred while deleting data:",t.status),null)}catch(t){return d.setLoading(!1),console.error("An error occurred while deleting data:",t),null}}};var pe={exports:{}};(function(M,S){(function(d,t){M.exports=t()})(window,function(){return function(s){var d={};function t(i){if(d[i])return d[i].exports;var f=d[i]={i,l:!1,exports:{}};return s[i].call(f.exports,f,f.exports,t),f.l=!0,f.exports}return t.m=s,t.c=d,t.d=function(i,f,p){t.o(i,f)||Object.defineProperty(i,f,{enumerable:!0,get:p})},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,f){if(f&1&&(i=t(i)),f&8||f&4&&typeof i=="object"&&i&&i.__esModule)return i;var p=Object.create(null);if(t.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:i}),f&2&&typeof i!="string")for(var E in i)t.d(p,E,(function(u){return i[u]}).bind(null,E));return p},t.n=function(i){var f=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(f,"a",f),f},t.o=function(i,f){return Object.prototype.hasOwnProperty.call(i,f)},t.p="",t(t.s=0)}({"./src/index.js":function(s,d,t){t.r(d),t("./src/sass/index.scss");var i=t("./src/js/init.js"),f=i.default.init;typeof window<"u"&&(window.printJS=f),d.default=f},"./src/js/browser.js":function(s,d,t){t.r(d);var i={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!p.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};d.default=i},"./src/js/functions.js":function(s,d,t){t.r(d),t.d(d,"addWrapper",function(){return E}),t.d(d,"capitalizePrint",function(){return u}),t.d(d,"collectStyles",function(){return c}),t.d(d,"addHeader",function(){return r}),t.d(d,"cleanUp",function(){return m}),t.d(d,"isRawHTML",function(){return h});var i=t("./src/js/modal.js"),f=t("./src/js/browser.js");function p(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(n){return typeof n}:p=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},p(o)}function E(o,l){var n="font-family:"+l.font+" !important; font-size: "+l.font_size+" !important; width:100%;";return'<div style="'+n+'">'+o+"</div>"}function u(o){return o.charAt(0).toUpperCase()+o.slice(1)}function c(o,l){for(var n=document.defaultView||window,g="",y=n.getComputedStyle(o,""),O=0;O<y.length;O++)(l.targetStyles.indexOf("*")!==-1||l.targetStyle.indexOf(y[O])!==-1||a(l.targetStyles,y[O]))&&y.getPropertyValue(y[O])&&(g+=y[O]+":"+y.getPropertyValue(y[O])+";");return g+="max-width: "+l.maxWidth+"px !important; font-size: "+l.font_size+" !important;",g}function a(o,l){for(var n=0;n<o.length;n++)if(p(l)==="object"&&l.indexOf(o[n])!==-1)return!0;return!1}function r(o,l){var n=document.createElement("div");if(h(l.header))n.innerHTML=l.header;else{var g=document.createElement("h1"),y=document.createTextNode(l.header);g.appendChild(y),g.setAttribute("style",l.headerStyle),n.appendChild(g)}o.insertBefore(n,o.childNodes[0])}function m(o){o.showModal&&i.default.close(),o.onLoadingEnd&&o.onLoadingEnd(),(o.showModal||o.onLoadingStart)&&window.URL.revokeObjectURL(o.printable);var l="mouseover";(f.default.isChrome()||f.default.isFirefox())&&(l="focus");var n=function g(){window.removeEventListener(l,g),o.onPrintDialogClose();var y=document.getElementById(o.frameId);y&&y.remove()};window.addEventListener(l,n)}function h(o){var l=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return l.test(o)}},"./src/js/html.js":function(s,d,t){t.r(d);var i=t("./src/js/functions.js"),f=t("./src/js/print.js");function p(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(r){return typeof r}:p=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},p(c)}d.default={print:function(a,r){var m=u(a.printable)?a.printable:document.getElementById(a.printable);if(!m){window.console.error("Invalid HTML element id: "+a.printable);return}a.printableElement=E(m,a),a.header&&Object(i.addHeader)(a.printableElement,a),f.default.send(a,r)}};function E(c,a){for(var r=c.cloneNode(),m=Array.prototype.slice.call(c.childNodes),h=0;h<m.length;h++)if(a.ignoreElements.indexOf(m[h].id)===-1){var o=E(m[h],a);r.appendChild(o)}switch(a.scanStyles&&c.nodeType===1&&r.setAttribute("style",Object(i.collectStyles)(c,a)),c.tagName){case"SELECT":r.value=c.value;break;case"CANVAS":r.getContext("2d").drawImage(c,0,0);break}return r}function u(c){return p(c)==="object"&&c&&(c instanceof HTMLElement||c.nodeType===1)}},"./src/js/image.js":function(s,d,t){t.r(d);var i=t("./src/js/functions.js"),f=t("./src/js/print.js"),p=t("./src/js/browser.js");d.default={print:function(u,c){u.printable.constructor!==Array&&(u.printable=[u.printable]),u.printableElement=document.createElement("div"),u.printable.forEach(function(a){var r=document.createElement("img");if(r.setAttribute("style",u.imageStyle),r.src=a,p.default.isFirefox()){var m=r.src;r.src=m}var h=document.createElement("div");h.appendChild(r),u.printableElement.appendChild(h)}),u.header&&Object(i.addHeader)(u.printableElement,u),f.default.send(u,c)}}},"./src/js/init.js":function(s,d,t){t.r(d);var i=t("./src/js/browser.js"),f=t("./src/js/modal.js"),p=t("./src/js/pdf.js"),E=t("./src/js/html.js"),u=t("./src/js/raw-html.js"),c=t("./src/js/image.js"),a=t("./src/js/json.js");function r(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(l){return typeof l}:r=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},r(h)}var m=["pdf","html","image","json","raw-html"];d.default={init:function(){var o={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(U){throw U},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},l=arguments[0];if(l===void 0)throw new Error("printJS expects at least 1 attribute.");switch(r(l)){case"string":o.printable=encodeURI(l),o.fallbackPrintable=o.printable,o.type=arguments[1]||o.type;break;case"object":o.printable=l.printable,o.fallbackPrintable=typeof l.fallbackPrintable<"u"?l.fallbackPrintable:o.printable,o.fallbackPrintable=o.base64?"data:application/pdf;base64,".concat(o.fallbackPrintable):o.fallbackPrintable;for(var n in o)n==="printable"||n==="fallbackPrintable"||(o[n]=typeof l[n]<"u"?l[n]:o[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+r(l))}if(!o.printable)throw new Error("Missing printable information.");if(!o.type||typeof o.type!="string"||m.indexOf(o.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");o.showModal&&f.default.show(o),o.onLoadingStart&&o.onLoadingStart();var g=document.getElementById(o.frameId);g&&g.parentNode.removeChild(g);var y=document.createElement("iframe");switch(i.default.isFirefox()?y.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):y.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),y.setAttribute("id",o.frameId),o.type!=="pdf"&&(y.srcdoc="<html><head><title>"+o.documentTitle+"</title>",o.css&&(Array.isArray(o.css)||(o.css=[o.css]),o.css.forEach(function(j){y.srcdoc+='<link rel="stylesheet" href="'+j+'">'})),y.srcdoc+="</head><body></body></html>"),o.type){case"pdf":if(i.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var O=window.open(o.fallbackPrintable,"_blank");O.focus(),o.onIncompatibleBrowser()}catch(j){o.onError(j)}finally{o.showModal&&f.default.close(),o.onLoadingEnd&&o.onLoadingEnd()}else p.default.print(o,y);break;case"image":c.default.print(o,y);break;case"html":E.default.print(o,y);break;case"raw-html":u.default.print(o,y);break;case"json":a.default.print(o,y);break}}}},"./src/js/json.js":function(s,d,t){t.r(d);var i=t("./src/js/functions.js"),f=t("./src/js/print.js");function p(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(a){return typeof a}:p=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},p(u)}d.default={print:function(c,a){if(p(c.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof c.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!c.properties||!Array.isArray(c.properties))throw new Error("Invalid properties array for your JSON data.");c.properties=c.properties.map(function(r){return{field:p(r)==="object"?r.field:r,displayName:p(r)==="object"?r.displayName:r,columnSize:p(r)==="object"&&r.columnSize?r.columnSize+";":100/c.properties.length+"%;"}}),c.printableElement=document.createElement("div"),c.header&&Object(i.addHeader)(c.printableElement,c),c.printableElement.innerHTML+=E(c),f.default.send(c,a)}};function E(u){var c=u.printable,a=u.properties,r='<table style="border-collapse: collapse; width: 100%;">';u.repeatTableHeader&&(r+="<thead>"),r+="<tr>";for(var m=0;m<a.length;m++)r+='<th style="width:'+a[m].columnSize+";"+u.gridHeaderStyle+'">'+Object(i.capitalizePrint)(a[m].displayName)+"</th>";r+="</tr>",u.repeatTableHeader&&(r+="</thead>"),r+="<tbody>";for(var h=0;h<c.length;h++){r+="<tr>";for(var o=0;o<a.length;o++){var l=c[h],n=a[o].field.split(".");if(n.length>1)for(var g=0;g<n.length;g++)l=l[n[g]];else l=l[a[o].field];r+='<td style="width:'+a[o].columnSize+u.gridStyle+'">'+l+"</td>"}r+="</tr>"}return r+="</tbody></table>",r}},"./src/js/modal.js":function(s,d,t){t.r(d);var i={show:function(p){var E="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",u=document.createElement("div");u.setAttribute("style",E),u.setAttribute("id","printJS-Modal");var c=document.createElement("div");c.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var a=document.createElement("div");a.setAttribute("class","printClose"),a.setAttribute("id","printClose"),c.appendChild(a);var r=document.createElement("span");r.setAttribute("class","printSpinner"),c.appendChild(r);var m=document.createTextNode(p.modalMessage);c.appendChild(m),u.appendChild(c),document.getElementsByTagName("body")[0].appendChild(u),document.getElementById("printClose").addEventListener("click",function(){i.close()})},close:function(){var p=document.getElementById("printJS-Modal");p&&p.parentNode.removeChild(p)}};d.default=i},"./src/js/pdf.js":function(s,d,t){t.r(d);var i=t("./src/js/print.js"),f=t("./src/js/functions.js");d.default={print:function(u,c){if(u.base64){var a=Uint8Array.from(atob(u.printable),function(m){return m.charCodeAt(0)});p(u,c,a);return}u.printable=/^(blob|http|\/\/)/i.test(u.printable)?u.printable:window.location.origin+(u.printable.charAt(0)!=="/"?"/"+u.printable:u.printable);var r=new window.XMLHttpRequest;r.responseType="arraybuffer",r.addEventListener("error",function(){Object(f.cleanUp)(u),u.onError(r.statusText,r)}),r.addEventListener("load",function(){if([200,201].indexOf(r.status)===-1){Object(f.cleanUp)(u),u.onError(r.statusText,r);return}p(u,c,r.response)}),r.open("GET",u.printable,!0),r.send()}};function p(E,u,c){var a=new window.Blob([c],{type:"application/pdf"});a=window.URL.createObjectURL(a),u.setAttribute("src",a),i.default.send(E,u)}},"./src/js/print.js":function(s,d,t){t.r(d);var i=t("./src/js/browser.js"),f=t("./src/js/functions.js"),p={send:function(r,m){document.getElementsByTagName("body")[0].appendChild(m);var h=document.getElementById(r.frameId);h.onload=function(){if(r.type==="pdf"){i.default.isFirefox()?setTimeout(function(){return E(h,r)},1e3):E(h,r);return}var o=h.contentWindow||h.contentDocument;if(o.document&&(o=o.document),o.body.appendChild(r.printableElement),r.type!=="pdf"&&r.style){var l=document.createElement("style");l.innerHTML=r.style,o.head.appendChild(l)}var n=o.getElementsByTagName("img");n.length>0?u(Array.from(n)).then(function(){return E(h,r)}):E(h,r)}}};function E(a,r){try{if(a.focus(),i.default.isEdge()||i.default.isIE())try{a.contentWindow.document.execCommand("print",!1,null)}catch{a.contentWindow.print()}else a.contentWindow.print()}catch(m){r.onError(m)}finally{i.default.isFirefox()&&(a.style.visibility="hidden",a.style.left="-1px"),Object(f.cleanUp)(r)}}function u(a){var r=a.map(function(m){if(m.src&&m.src!==window.location.href)return c(m)});return Promise.all(r)}function c(a){return new Promise(function(r){var m=function h(){!a||typeof a.naturalWidth>"u"||a.naturalWidth===0||!a.complete?setTimeout(h,500):r()};m()})}d.default=p},"./src/js/raw-html.js":function(s,d,t){t.r(d);var i=t("./src/js/print.js");d.default={print:function(p,E){p.printableElement=document.createElement("div"),p.printableElement.setAttribute("style","width:100%"),p.printableElement.innerHTML=p.printable,i.default.send(p,E)}}},"./src/sass/index.scss":function(s,d,t){},0:function(s,d,t){s.exports=t("./src/index.js")}}).default})})(pe);const w=M=>(ue("data-v-26213069"),M=M(),fe(),M),me=w(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),be=["onSubmit"],ye=w(()=>e("span",{for:"responsible"},"Responsable",-1)),he=w(()=>e("span",{for:"reason"},"Razón",-1)),ge=w(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),ve=["onSubmit"],_e=w(()=>e("span",{class:"advert",style:{"text-transform":"lowercase",color:"red","font-weight":"bold"}}," Desde el 16 de mayo de 2024, la cancelación de órdenes requerirá autorización.",-1)),Ee=w(()=>e("span",{for:"responsible"},"Responsable",-1)),we=w(()=>e("span",{for:"reason"},"Razón",-1)),Oe={style:{"text-transform":"capitalize"}},xe={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},je={class:""},Me={id:"factura",style:{width:"100%"}},Se=w(()=>e("i",{class:"pi pi-whatsapp mr-2"},null,-1)),Pe=w(()=>e("br",null,null,-1)),Ce={class:"",style:{width:"auto"}},Le={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},Te={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},Ae={style:{padding:"0",color:"black","text-align":"center",margin:"auto","margin-bottom":"1rem",width:"max-content","min-width":"max-content",display:"flex","justify-content":"center","flex-direction":"column"}},De=w(()=>e("div",{class:"",style:{"font-weight":"bold",color:"white",margin:"0","background-color":"black","align-items":"center",display:"grid","grid-template-columns":"auto auto"}},[e("div",{style:{width:"100%"}},[e("b",null," productos")]),e("div",null,[e("p",{style:{"text-align":"end","font-weight":"bold"}},[e("b",null," total ")])])],-1)),Ie={style:{display:"grid","grid-template-columns":"auto auto"}},Be={class:"p-0 m-0"},Re=w(()=>e("br",null,null,-1)),Ue={key:0,style:{"text-align":"end",color:"black"}},ze={key:1,style:{"text-align":"end",color:"black"}},Ne={key:0,class:"p-0 m-0"},We=w(()=>e("b",null,"COMBO INCLUYE",-1)),He=[We],Ve={class:"p-0 m-0 ml-5",style:{}},Ke={style:{display:"flex",width:"","justify-content":"space-between"},class:"p-0 m-0"},$e={class:"p-0 m-0",style:{}},Fe={class:"p-0 m-0",style:{"text-align":"end"}},ke=w(()=>e("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),Je={class:"",style:{display:"grid",color:"","margin-top":"0.5rem","grid-template-columns":"auto auto"}},Ge=w(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Subtotal")])],-1)),Ze={class:""},Xe={style:{"text-align":"end","font-weight":"bold",color:"black"}},Ye=w(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Domicilio")])],-1)),Qe={class:""},qe={style:{"text-align":"end","font-weight":"bold",color:"black"}},et=w(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold",color:"black"}},[e("b",null,"Total")])],-1)),tt={class:""},nt={style:{"text-align":"end",color:"black","font-weight":"bold"}},ot=w(()=>e("div",{class:""},null,-1)),rt=w(()=>e("p",{style:{"font-weight":"bold","background-color":"black",color:"white",padding:"0",margin:"0","margin-top":"0.5rem"}},[e("b",null,"Notas")],-1)),it={class:"notas",style:{border:"1px solid",margin:"0",color:"black",padding:"0.5rem"}},lt=w(()=>e("p",{style:{"background-color":"black","font-weight":"bold","margin-top":"1rem",color:"white"}},[e("b",null,"cliente")],-1)),st={style:{display:"grid","grid-template-columns":"auto auto"}},at=w(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"NOMBRE")])],-1)),dt={class:""},ct={style:{"text-align":"end",color:"black"}},ut=w(()=>e("div",{style:{}},[e("span",null,[e("b",null,"telefono")])],-1)),ft={style:{"text-align":"end",color:"black"}},pt=w(()=>e("div",{style:{}},[e("span",null,[e("b",null,"direccion ")])],-1)),mt={style:{"text-align":"end",color:"black"}},bt=w(()=>e("div",null,[e("span",null,[e("b",null,"metodo de pago")])],-1)),yt={style:{"text-align":"end",color:"black"}},ht={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},gt={class:"mt-3"},vt=w(()=>e("h3",null,[e("b",null,"Cambiar Método de Pago")],-1)),_t=["onSubmit"],Et=w(()=>e("span",{for:"paymentMethod"},"Método de Pago actual",-1)),wt={for:"paymentMethod"},Ot=w(()=>e("span",{for:"paymentMethod"},"Nuevo método de Pago",-1)),xt={__name:"DialogoPedido",setup(M){const S=I(!1),s=de(),d=l=>{var g,y,O,j;const n=(j=(O=(y=(g=l.latest_status_timestamp)==null?void 0:g.split("T")[1])==null?void 0:y.split(":"))==null?void 0:O.slice(0,2))==null?void 0:j.join(":");switch(l.current_status){case"enviada":return`El pedido fue enviado a su domicilio a las ${n}`;case"cancelada":return`El pedido fue cancelado a las ${n}
Responsable: ${l.responsible}
Razón: ${l.reason}`;case"en preparacion":return`El pedido está en preparación desde las ${n} y será enviado en breve.`;case"generada":return`Hemos recibido su pedido a las ${n} y empezaremos a prepararlo en breve. Gracias por su espera.`;default:return""}},t=async()=>{if(f.value)try{await le.put(`${re}/change-method/${s.currentOrder.order_id}/${f.value}`,`Cambiando método de pago para la orden ${s.currentOrder.order_id}`),i.value=!1,s.visibles.currentOrder=!1,s.getTodayOrders(),console.log("Método de pago cambiado exitosamente")}catch(l){console.error("Error al cambiar el método de pago:",l)}};I(!1);const i=I(!1),f=I(null),p=I([]);oe(async()=>{try{const l=await le.get(`${re}/payment_methods`);p.value=l}catch(l){console.error("Error al obtener métodos de pago:",l)}});const E=async()=>{var n;const l={order_id:s.currentOrder.order_id,responsible:(n=m.value.responsible)==null?void 0:n.name,reason:m.value.reason};await N.create_cancellling_request(l),S.value=!1,s.Notification.pause(),s.Notification.currentTime=0},u=ie(()=>s.currentOrder.pe_json.listaPedidos.reduce((l,n)=>{let g=n.pedido_cantidad*n.pedido_precio;return l+g},0));ie(()=>u.value+s.currentOrder.delivery_price);const c=I(!1),a=()=>{const l=document.getElementById("factura").innerHTML,n=window.open("","_blank");n.document.write("<html><head><title>Factura</title>");const g=document.getElementsByTagName("style");for(let y=0;y<g.length;y++)n.document.write(g[y].outerHTML);n.document.write("<style>  @media print { html{height: min-content;}  *{text-transform:uppercase;align-items:center; width:100%; font-family: sans-serif;padding:0;margin:0; font-size:o.9rem !IMPORTANT} body { padding:0; -webkit-print-color-adjust: exact; /* Chrome, Safari */ color-adjust: exact; /* Firefox */ } }  </style>"),n.document.write("</head><body>"),n.document.write(l),n.document.write("</body></html>"),n.document.close(),n.print(),setTimeout(()=>{n.close()},.01)};oe(async()=>{s.currentOrder.value=s.currentOrder});const r=I(!1),m=I({responsible:null,reason:"Sin razon"}),h=I([{name:"Restaurante",value:"restaurant"},{name:"Cliente",value:"client"}]),o=()=>{m.value.responsible&&N.cancelOrder(s.currentOrder.order_id,m.value.reason,m.value.responsible.name).then(l=>{l&&(r.value=!1,console.log("Order canceled successfully"))}).catch(l=>{console.error("Failed to cancel order:",l)})};return(l,n)=>{const g=z("Dropdown"),y=z("Textarea"),O=z("Button"),j=z("Dialog"),U=z("Tag");return C(),A(V,null,[e("div",null,[x(j,{visible:r.value,"onUpdate:visible":n[2]||(n[2]=v=>r.value=v),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:L(()=>[me]),default:L(()=>[e("form",{onSubmit:$(o,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[ye,x(g,{style:{width:"100%"},id:"responsible",modelValue:m.value.responsible,"onUpdate:modelValue":n[0]||(n[0]=v=>m.value.responsible=v),options:h.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),he,x(y,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:m.value.reason,"onUpdate:modelValue":n[1]||(n[1]=v=>m.value.reason=v),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),x(O,{style:{width:"100%","border-radius":"0.5rem"},label:"cancelar",type:"submit",class:"p-button-danger"})],40,be)]),_:1},8,["visible"]),x(j,{visible:S.value,"onUpdate:visible":n[5]||(n[5]=v=>S.value=v),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:L(()=>[ge]),default:L(()=>[e("form",{onSubmit:$(E,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[_e,Ee,x(g,{style:{width:"100%"},id:"responsible",modelValue:m.value.responsible,"onUpdate:modelValue":n[3]||(n[3]=v=>m.value.responsible=v),options:h.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),we,x(y,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:m.value.reason,"onUpdate:modelValue":n[4]||(n[4]=v=>m.value.reason=v),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),x(O,{style:{width:"100%","border-radius":"0.5rem"},label:"solicitar cancelacion",type:"submit",class:"p-button-danger"})],40,ve)]),_:1},8,["visible"]),x(j,{closable:!1,style:{width:"30rem"},modal:"",visible:c.value,"onUpdate:visible":n[8]||(n[8]=v=>c.value=v)},{footer:L(()=>[e("div",xe,[x(O,{text:"",size:"small",onClick:n[6]||(n[6]=()=>{b(N).deliveryZero(b(s).currentOrder.order_id),c.value=!1}),style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"si"}),x(O,{onClick:n[7]||(n[7]=v=>c.value=!1),size:"small",style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"no"})])]),default:L(()=>[e("span",Oe,[T(" Esta seguro de llevar a $0.00 el valor del domicilio para la orden "),e("b",null,_(b(s).currentOrder.order_id),1),T(" del cliente "),e("b",null,_(b(s).currentOrder.user_name),1),T("? ")])]),_:1},8,["visible"]),x(j,{class:"mx-3",closeOnEscape:"",closable:!1,visible:b(s).visibles.currentOrder,"onUpdate:visible":n[14]||(n[14]=v=>b(s).visibles.currentOrder=v),modal:"",style:{"max-height":"95vh",width:"35rem",position:"relative"}},{footer:L(()=>[e("div",ht,[b(s).currentOrder.current_status=="generada"?(C(),H(O,{key:0,size:"small",onClick:n[9]||(n[9]=v=>b(N).prepareOrder(b(s).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"Preparar"})):B("",!0),b(s).currentOrder.current_status=="en preparacion"?(C(),H(O,{key:1,size:"small",onClick:n[10]||(n[10]=v=>b(N).sendOrder(b(s).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"enviar"})):B("",!0),x(O,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:a,severity:"warning",label:"imprimir"}),x(O,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:n[11]||(n[11]=v=>S.value=!0),severity:"danger",label:"CANCELAR "})]),e("div",gt,[x(O,{onClick:n[12]||(n[12]=v=>i.value=!0),label:"Cambiar metodo de pago",severity:"success"})])]),default:L(()=>{var v,k,J,G,Z,X,Y,Q,q,ee;return[e("div",je,[e("div",null,[e("p",{class:ce(`estado ${(k=(v=b(s).currentOrder)==null?void 0:v.current_status)==null?void 0:k.split(" ")[0]}`)},_(d(b(s).currentOrder)),3)])]),e("div",Me,[b(s).currentOrder.responsible_id?(C(),H(U,{key:0,style:{},class:"tag mb-2",severity:"success"},{default:L(()=>[Se,T(" TRANSFERENCIA APROBADA")]),_:1})):B("",!0),T(),Pe,b(s).currentOrder.responsible_id?(C(),H(U,{key:1,class:"tag",severity:"success"},{default:L(()=>[T(_(b(s).currentOrder.name),1)]),_:1})):B("",!0),e("div",Ce,[e("p",Le," ID:"+_(b(s).currentOrder.order_id),1),e("p",Te,_(b(s).currentOrder.user_name),1),e("p",Ae,[e("b",null," fecha: "+_((J=b(s).currentOrder.latest_status_timestamp)==null?void 0:J.split("T")[0]),1),e("b",null," Hora: "+_((Y=(X=(Z=(G=b(s).currentOrder.latest_status_timestamp)==null?void 0:G.split("T")[1])==null?void 0:Z.split(":"))==null?void 0:X.slice(0,2))==null?void 0:Y.join(":")),1)]),De,(C(!0),A(V,null,F((ee=(q=(Q=b(s))==null?void 0:Q.currentOrder)==null?void 0:q.pe_json)==null?void 0:ee.listaPedidos,P=>{var te,ne;return C(),A("div",null,[e("div",Ie,[e("p",Be,[T(" ( "+_(P.pedido_cantidad)+" ) "+_(P.pedido_nombre_producto)+" ",1),Re]),e("div",null,[P.pedido_base_price?(C(),A("p",Ue,_(b(R)(P.pedido_base_price*P.pedido_cantidad)),1)):(C(),A("p",ze,_(b(R)(P.pedido_precio)),1))])]),((te=P.lista_productocombo)==null?void 0:te.length)>0?(C(),A("p",Ne,He)):B("",!0),P.lista_productocombo?(C(!0),A(V,{key:1},F(P.lista_productocombo,D=>(C(),A("p",Ve,[T(" -- "),e("b",null,_(D.pedido_cantidad),1),T(" "+_(D.pedido_nombre),1)]))),256)):B("",!0),(C(!0),A(V,null,F((ne=P.modificadorseleccionList)==null?void 0:ne.filter(D=>D.pedido_productoid==P.pedido_productoid),D=>(C(),A("div",Ke,[e("p",$e,[T(" - ( "+_(P.pedido_cantidad)+" ) ",1),e("b",null,_(D.modificadorseleccion_cantidad/P.pedido_cantidad),1),T(" "+_(D.modificador_nombre),1)]),e("p",Fe,_(b(R)(D.pedido_precio*D.modificadorseleccion_cantidad)),1)]))),256)),ke])}),256)),e("div",Je,[Ge,e("div",Ze,[e("p",Xe,[e("b",null,_(b(R)(b(s).currentOrder.pe_json.delivery.delivery_pagocon-b(s).currentOrder.delivery_price)),1)])]),Ye,e("div",Qe,[e("p",qe,[e("b",null,_(b(R)(b(s).currentOrder.delivery_price)),1)])]),et,e("div",tt,[e("p",nt,[e("b",null,_(b(R)(b(s).currentOrder.pe_json.delivery.delivery_pagocon)),1)])]),ot]),rt,e("p",it,_(b(s).currentOrder.order_notes),1),lt,e("div",st,[at,e("div",dt,[e("p",ct,_(b(s).currentOrder.user_name),1)]),ut,e("div",null,[e("p",ft,_(b(s).currentOrder.user_phone),1)]),pt,e("div",null,[e("p",mt,_(b(s).currentOrder.user_address),1)]),bt,e("div",null,[e("p",yt,_(b(s).currentOrder.payment_method),1)])])])]),x(O,{class:"shadow-4",onClick:n[13]||(n[13]=P=>b(s).setVisible("currentOrder",!1)),icon:"pi pi-times",rounded:"",severity:"danger",style:{position:"absolute",top:"-1rem","border-radius":"50%",right:"-1rem"}})]}),_:1},8,["visible"])]),x(j,{visible:i.value,"onUpdate:visible":n[16]||(n[16]=v=>i.value=v),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:L(()=>[vt]),default:L(()=>[e("form",{onSubmit:$(t,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Et,x(U,{class:"px-4",severity:"warning"},{default:L(()=>[e("span",wt,[e("b",null,_(b(s).currentOrder.payment_method),1)])]),_:1}),Ot,x(g,{style:{width:"100%"},id:"paymentMethod",modelValue:f.value,"onUpdate:modelValue":n[15]||(n[15]=v=>f.value=v),options:p.value,optionLabel:"name",optionValue:"id",placeholder:"Selecciona un método de pago",required:""},null,8,["modelValue","options"]),x(O,{style:{width:"100%","border-radius":"0.5rem"},label:"Cambiar",type:"submit",class:"p-button-help"})],40,_t)]),_:1},8,["visible"])],64)}}},Pt=ae(xt,[["__scopeId","data-v-26213069"]]);export{Pt as D};
