import{_ as v,d as E,o as O,U as C,A as n,r as k,a as l,c as i,e as t,t as a,u as e,F as g,f,v as w,l as p,b as I,B as T,C as A,D as R,E as P,x as N,m as u,G as S,n as $,P as j,H as M,I as D,J as L}from"./index-06fbe632.js";import{f as m,b as B,a as x,s as F,c as U}from"./dialogo-pedido.vue_vue_type_style_index_0_scoped_7ce1495e_lang-e1c8fb21.js";const r=d=>(A("data-v-d3cb331b"),d=d(),R(),d),V={class:"col-12 p-0 m-0 xl:col-12 p-0 md:p-3 texto-negro",style:{width:"100%"}},q=r(()=>t("div",{class:"col-12 p-0",style:{display:"flex"}},[t("img",{class:"m-auto",src:"https://salchimonster.com/images/logo.png",alt:"",style:{height:"4rem",width:"4rem","object-fit":"contain"}})],-1)),z=r(()=>t("p",{class:"text-xl col-12 text-center",style:{"font-weight":"bold"}},"SALCHIMONSTER",-1)),H={class:"text-xl col-12 text-center",style:{"font-weight":"bold"}},G=r(()=>t("p",{class:"text-xl pl-4 negrilla",style:{"font-weight":"bold",color:"white","background-color":"black"}},"ENTREGAR",-1)),J={class:"productos"},K={class:"producto",style:{display:"flex","justify-content":"space-between","align-items":"center","flex-direction":"column"}},Q={class:"col-12 p-0",style:{display:"flex","justify-content":"space-between","align-items":"center"}},W={class:"",style:{"font-weight":"bold","text-transform":"uppercase","min-width":"max-content",margin:"0",padding:"0.5rem 0"}},X={style:{"font-weight":"bold",height:""}},Y={key:0,class:"col-12 p-0 pl-2 mb-0",style:{"font-weight":"bold"}},Z={class:"col-12 p-0 pl-1",style:{display:"flex","justify-content":"space-between","align-items":"center"}},tt={class:"pl-2",style:{"text-transform":"uppercase","min-width":"",margin:"0",padding:"0.1rem 0",width:"100%"}},et={key:1,class:"col-12 p-0 pl-2 mb-0",style:{"font-weight":"bold"}},st={class:"col-12 p-0 pl-1",style:{display:"flex","justify-content":"space-between","align-items":"center"}},ot={class:"pl-2",style:{"text-transform":"uppercase","min-width":"",margin:"0",padding:"0.1rem 0",width:"100%"}},nt={style:{"font-weight":"",height:""}},at={key:2,class:"col-12 p-0 pl-2 mb-0 text-right",style:{"font-weight":"bold"}},lt=r(()=>t("div",{style:{width:"100%","border-bottom":"0.1px solid","margin-top":"0rem"}},null,-1)),rt=r(()=>t("br",null,null,-1)),it={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},dt=r(()=>t("span",{style:{"font-weight":"bold"}}," SUBTOTAL ",-1)),ct={style:{"font-weight":"bold"}},pt={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},_t=r(()=>t("span",{style:{"font-weight":"bold"}}," DOMICILIO ",-1)),ut={style:{"font-weight":"bold"}},mt={class:"text-xl",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},ht=r(()=>t("span",{style:{"font-weight":"bold"}}," TOTAL ",-1)),bt={style:{"font-weight":"bold"}},yt=r(()=>t("p",{class:"text-xl pl-4",style:{"font-weight":"bold",color:"white","background-color":"black"}},"NOTAS",-1)),gt=r(()=>t("div",{class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},[t("p",{class:"text-xl pl-4 col-12 py-0 negrilla",style:{"font-weight":"bold",color:"white","background-color":"black"}}," DATOS DE USUARIO")],-1)),ft={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},wt=r(()=>t("span",{style:{"font-weight":"bold"}}," NOMBRE ",-1)),xt={style:{"text-transform":"uppercase"}},vt={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},kt=r(()=>t("span",{style:{"font-weight":"bold"}}," TELEFONO ",-1)),It={style:{"text-transform":"uppercase"}},Tt={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},At=r(()=>t("span",{style:{"font-weight":"bold"}}," DIRECCIÓN ",-1)),Rt={style:{"text-transform":"uppercase"}},Et={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},Ot=r(()=>t("span",{style:{"font-weight":"bold"}}," MÉTODO DE PAGO ",-1)),Ct={style:{"text-transform":"uppercase"}},Pt={__name:"factura",setup(d){const y=E({});return O(async()=>{const _=`${C}/user/${n.value.user_id}`;try{const s=await fetch(_);if(!s.ok)throw new Error(`Error en la solicitud: ${s.status}`);const c=await s.json();y.value=c}catch(s){console.error("Error en la solicitud:",s)}}),(_,s)=>{const c=k("P");return l(),i("div",V,[q,z,t("p",H,"ORDEN #"+a(e(n).order_id),1),G,t("div",J,[(l(!0),i(g,null,f(e(x)(e(n).order_products),o=>(l(),i("div",K,[t("div",Q,[t("p",W,[t("span",null,a(o.quantity),1),w(),t("span",null,a(o.product.name),1)]),t("p",X,a(e(m)(o.quantity*o.product.price)),1)]),o.product.salsas.length>0?(l(),i("p",Y,"SALSAS ")):p("",!0),(l(!0),i(g,null,f(o.product.salsas,h=>(l(),i("div",Z,[t("p",tt,[t("span",null,a(h),1)])]))),256)),o.product.adiciones.length>0?(l(),i("p",et," ADICIONES")):p("",!0),(l(!0),i(g,null,f(o.product.adiciones,h=>(l(),i("div",st,[t("p",ot,[t("span",null,a(o.quantity)+" de "+a(h.name),1)]),t("p",nt,a(e(m)(o.quantity*h.price)),1)]))),256)),o.product.adiciones.length>0?(l(),i("p",at,a(e(m)(e(B)(o))),1)):p("",!0),lt]))),256)),rt]),t("div",it,[dt,t("span",ct,a(e(F)(e(x)(e(n).order_products))),1)]),t("div",pt,[_t,t("span",ut,a(e(m)(e(n).delivery_price)),1)]),t("div",mt,[ht,t("span",bt,a(e(m)(e(U)(e(n))+e(n).delivery_price)),1)]),yt,I(c,null,{default:T(()=>[w(a(e(n).order_notes),1)]),_:1}),gt,t("div",ft,[wt,t("span",xt,a(e(n).user_data.user_name),1)]),t("div",vt,[kt,t("span",It,a(e(n).user_data.user_phone),1)]),t("div",Tt,[At,t("span",Rt,a(e(n).user_data.user_address),1)]),t("div",Et,[Ot,t("span",Ct,a(e(n).payment_method),1)])])}}},Nt=v(Pt,[["__scopeId","data-v-d3cb331b"]]),b=d=>(A("data-v-7ce1495e"),d=d(),R(),d),St={class:"btn_accion_dialogo",style:{position:"absolute",top:"90%",display:"flex",gap:"2rem"}},$t=b(()=>t("span",{class:"text-xl p-0",style:{border:"none","font-weight":"bold"}},"PREPARAR",-1)),jt=[$t],Mt=b(()=>t("span",{class:"text-xl p-0",style:{border:"none","font-weight":"bold"}},"ENVIAR",-1)),Dt=[Mt],Lt=b(()=>t("span",{class:"text-xl",style:{border:"none","font-weight":"bold"}},"CANCELAR",-1)),Bt=[Lt],Ft=b(()=>t("span",{class:"text-xl",style:{border:"none","font-weight":"bold"}},"IMPRIMIR",-1)),Ut=[Ft],Vt={__name:"dialogo-pedido",setup(d){const y=()=>{const _=document.getElementById("factura").innerHTML,s=window.open("","_blank");s.document.write("<html><head><title>Factura</title>");const c=document.getElementsByTagName("style");for(let o=0;o<c.length;o++)s.document.write(c[o].outerHTML);s.document.write("<style> @media print { html{height: min-content;} .negrilla{background-color:black !IMPORTANT; color:white !IMPORTANT;} *{ font-family: sans-serif; padding: 0 !IMPORTANT; margin: 0.2rem !IMPORTANT; font-size:0.9rem !IMPORTANT} body { -webkit-print-color-adjust: exact; /* Chrome, Safari */ color-adjust: exact; /* Firefox */ } } </style>"),s.document.write("</head><body>"),s.document.write(_),s.document.write("</body></html>"),s.document.close(),s.print(),setTimeout(()=>{s.close()},.1)};return(_,s)=>{const c=k("Dialog");return l(),P(c,{class:"dialogo",style:N([{"padding-bottom":"7rem","border-radius":"1rem",overflow:"hidden","background-color":"rgb(255, 255, 255)",color:"black"},{width:"40rem"}]),visible:e(u),"onUpdate:visible":s[4]||(s[4]=o=>S(u)?u.value=o:null),modals:"",header:"name",breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:T(()=>[t("button",{class:"btn_cerrar",onClick:s[0]||(s[0]=o=>u.value=!e(u)),style:{"z-index":"99","background-color":"var(--primary-color)",padding:"0.5rem 1rem",border:"none","border-radius":"0.5rem",color:"white",position:"absolute",right:"2rem"}},[t("i",{style:{color:"white","font-weight":"bold","border-radius":"1rem"},class:$(e(j).TIMES)},null,2)]),I(Nt,{class:"factura",id:"factura"}),t("div",St,[e(n).order_status.status=="generada"&&e(n).order_status.status!="enviada"?(l(),i("button",{key:0,onClick:s[1]||(s[1]=o=>e(M)(e(n))),style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"0rem 2rem","border-radius":"0.5rem","background-color":"rgb(0, 255, 106)"}},jt)):p("",!0),e(n).order_status.status=="en preparacion"&&e(n).order_status.status!="enviada"?(l(),i("button",{key:1,onClick:s[2]||(s[2]=o=>e(D)(e(n))),style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"0rem 2rem","border-radius":"0.5rem","background-color":"rgb(0, 255, 0)"}},Dt)):p("",!0),e(n).order_status.status!="enviada"?(l(),i("button",{key:2,onClick:s[3]||(s[3]=o=>e(L)(e(n))),style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"1rem 2rem","border-radius":"0.5rem","background-color":"rgb(255, 120, 120)"}},Bt)):p("",!0),t("button",{onClick:y,style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"1rem 2rem","border-radius":"0.5rem","background-color":"rgb(255, 246, 120)"}},Ut)])]),_:1},8,["visible"])}}},Ht=v(Vt,[["__scopeId","data-v-7ce1495e"]]);export{Ht as D};
