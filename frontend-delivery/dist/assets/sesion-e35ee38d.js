import{e as S,E as y,U as f,_ as I,f as P,r as v,o as i,c as d,b as t,t as _,a as m,d as $,s as j,v as B,l as C,k as x,g as O,w as b,F as p,i as w,h as E}from"./index-9a517b12.js";import{f as M}from"./formatoPesos-2a38d2e7.js";const k={async getProductsByCategorySite(r,e,o=1){const s=S().restaurant_id;try{const a=await y.get(`${f}/products-all/category-id/${r}/site/${e}/${s}`);return a.status===200?a.data:(console.error("An error occurred while fetching the ingredients:",a.status),null)}catch(a){return console.error("An error occurred while fetching the ingredients:",a),null}},async updateProductInstanceStatus(r,e){try{const o=await y.put(`${f}/product-instance/${r}/status`,{new_status:e});return o.status===200?(console.log("Product instance status updated successfully:",o.data),o.data):(console.error("Failed to update product instance status:",o.status),null)}catch(o){return console.error("Error updating product instance status:",o),null}}};const R=r=>(j("data-v-e78c7ab5"),r=r(),B(),r),T={class:"container p-shadow col-12",style:{"border-radius":"0.5rem",height:"100%",position:"relative"}},N={class:"imagen"},V=["src"],A={class:"texto",style:{}},U={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},F={style:{display:"flex","justify-content":"space-between","align-items":"center"}},L={style:{"text-transform":"uppercase"}},G=R(()=>t("span",null,null,-1)),z={style:{display:"flex","justify-content":"space-between","align-items":"c"}},D={style:{display:"flex","align-items":"center",gap:"1rem"}},H={class:"text-xl"},q={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(r){const e=r,o=async n=>{try{const s=await k.updateProductInstanceStatus(e.product.id,n);s&&console.log("Status updated:",s)}catch(s){console.error("Failed to update status:",s)}};return P(()=>e.product.product_description.substring(0,100)+"..."),(n,s)=>{const a=v("Button"),u=v("InputSwitch");return i(),d("div",T,[t("div",N,[t("img",{class:"",style:{width:"100%",height:"100%","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.2rem"},src:`https://backend.salchimonster.com/read-photo-product/${e.product.img_identifier}/300`,alt:"",onClick:s[0]||(s[0]=c=>n.open(e.product))},null,8,V)]),t("div",A,[t("div",U,[t("div",F,[t("span",null,[t("b",L,_(e.product.product_name),1)]),m(a,{text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),G,t("div",z,[m(u,{modelValue:e.product.status,"onUpdate:modelValue":[s[1]||(s[1]=c=>e.product.status=c),s[2]||(s[2]=c=>o(e.product.status))]},null,8,["modelValue"]),t("div",D,[t("span",H,[t("b",null,_($(M)(e.product.price)),1)])])])])])])}}},J=I(q,[["__scopeId","data-v-e78c7ab5"]]),K={style:{position:"sticky",left:"3rem",top:"8rem",display:"flex",width:"max-content",gap:"1rem","padding-left":"2rem","padding-top":"1rem","z-index":"900","background-color":"white"}},Q=["onClick"],W=["src"],X={class:"grid p-1 pb-8",style:{"max-width":"1024px",margin:"auto",position:"relative"}},Y={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},Z=t("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),tt=t("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),ot={__name:"sesion",setup(r){const e=S(),o=C(),n=x([]),s=x([{name:"SALCHIMONSTER",id:1,logo:"/images/logo.png"},{name:"BURGUERMONSTER",id:4,logo:"https://papasmonster.com/images/LOGO.png"},{name:"PAPASMONSTER",id:2,logo:"https://burgermonsterr.com/images/LOGO.png"}]),a=c=>{e.restaurant_id=c};O(async()=>{u()}),b(()=>e.restaurant_id,async()=>{n.value=[]});const u=async()=>{const c=o.params.category_id,g=e.site.site_id;n.value=await k.getProductsByCategorySite(c,g)};return b(()=>o.params.category_id,async()=>{o.params.category_id&&u()},{deep:!0}),(c,g)=>(i(),d(p,null,[t("div",K,[(i(!0),d(p,null,w(s.value,l=>(i(),d("div",{onClick:h=>a(l.id),style:{cursor:"pointer"}},[t("img",{style:{width:"3rem"},src:l.logo,alt:""},null,8,W)],8,Q))),256))]),t("div",X,[t("p",Y,[Z,E(" "+_($(o).params.menu_name)+" ",1),tt]),(i(!0),d(p,null,w(n.value,(l,h)=>(i(),d("div",{key:l.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[m(J,{style:{width:"100%"},id:`tarjeta-${h}`,product:l},null,8,["id","product"])]))),128))])],64))}};export{ot as default};
