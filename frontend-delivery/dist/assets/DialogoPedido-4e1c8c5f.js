import{C as ee,D as z,_ as te,k as D,u as ne,g as X,U as Y,f as Q,r as R,o as P,c as I,b as r,a as O,p as S,E as K,d as b,G as U,h as C,t as w,x as W,y as B,F as H,i as F,s as oe,v as re}from"./index-02e4b9ba.js";import{f as N}from"./formatoPesos-2a38d2e7.js";import{u as V}from"./reportes-417a2984.js";const q={router:ee,async get(j,M,s={}){const a=V();try{M?a.setLoading(!0,M):a.setLoading(!0,"cargando");const n={headers:s.headers||{}},l=await z.get(j,n);return l.status===200?(a.setLoading(!1),l.data):(a.setLoading(!1),console.error("An error occurred while fetching data:",l.status),null)}catch(n){return a.setLoading(!1),console.error("An error occurred while fetching data:",n),null}},async post(j,M,s,a=null){const n=V();try{n.setLoading(!0,s);const l=await z.post(j,M);return l.status===200||l.status===201?(n.setLoading(!1),a&&this.router.push(a),l.data):(n.setLoading(!1),console.error("An error occurred while posting data:",l.status),null)}catch(l){return n.setLoading(!1),console.error("An error occurred while posting data:",l),null}},async put(j,M,s,a=null){const n=V();try{n.setLoading(!0,s);const l=await z.put(j,M);return l.status===200||l.status===204?(n.setLoading(!1),a&&this.router.push(a),l.data):(n.setLoading(!1),console.error("An error occurred while updating data:",l.status),null)}catch(l){return n.setLoading(!1),console.error("An error occurred while updating data:",l),null}},async delete(j,M,s=null){const a=V();try{a.setLoading(!0,M);const n=await z.delete(j);return n.status===200||n.status===204?(a.setLoading(!1),s&&this.router.push(s),n.data):(a.setLoading(!1),console.error("An error occurred while deleting data:",n.status),null)}catch(n){return a.setLoading(!1),console.error("An error occurred while deleting data:",n),null}}};var le={exports:{}};(function(j,M){(function(a,n){j.exports=n()})(window,function(){return function(s){var a={};function n(l){if(a[l])return a[l].exports;var u=a[l]={i:l,l:!1,exports:{}};return s[l].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=s,n.c=a,n.d=function(l,u,f){n.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:f})},n.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},n.t=function(l,u){if(u&1&&(l=n(l)),u&8||u&4&&typeof l=="object"&&l&&l.__esModule)return l;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:l}),u&2&&typeof l!="string")for(var v in l)n.d(f,v,(function(d){return l[d]}).bind(null,v));return f},n.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return n.d(u,"a",u),u},n.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},n.p="",n(n.s=0)}({"./src/index.js":function(s,a,n){n.r(a),n("./src/sass/index.scss");var l=n("./src/js/init.js"),u=l.default.init;typeof window<"u"&&(window.printJS=u),a.default=u},"./src/js/browser.js":function(s,a,n){n.r(a);var l={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!l.isIE()&&!!window.StyleMedia},isChrome:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!f.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};a.default=l},"./src/js/functions.js":function(s,a,n){n.r(a),n.d(a,"addWrapper",function(){return v}),n.d(a,"capitalizePrint",function(){return d}),n.d(a,"collectStyles",function(){return c}),n.d(a,"addHeader",function(){return o}),n.d(a,"cleanUp",function(){return y}),n.d(a,"isRawHTML",function(){return h});var l=n("./src/js/modal.js"),u=n("./src/js/browser.js");function f(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(p){return typeof p}:f=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(e)}function v(e,t){var p="font-family:"+t.font+" !important; font-size: "+t.font_size+" !important; width:100%;";return'<div style="'+p+'">'+e+"</div>"}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}function c(e,t){for(var p=document.defaultView||window,E="",m=p.getComputedStyle(e,""),x=0;x<m.length;x++)(t.targetStyles.indexOf("*")!==-1||t.targetStyle.indexOf(m[x])!==-1||i(t.targetStyles,m[x]))&&m.getPropertyValue(m[x])&&(E+=m[x]+":"+m.getPropertyValue(m[x])+";");return E+="max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;",E}function i(e,t){for(var p=0;p<e.length;p++)if(f(t)==="object"&&t.indexOf(e[p])!==-1)return!0;return!1}function o(e,t){var p=document.createElement("div");if(h(t.header))p.innerHTML=t.header;else{var E=document.createElement("h1"),m=document.createTextNode(t.header);E.appendChild(m),E.setAttribute("style",t.headerStyle),p.appendChild(E)}e.insertBefore(p,e.childNodes[0])}function y(e){e.showModal&&l.default.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var t="mouseover";(u.default.isChrome()||u.default.isFirefox())&&(t="focus");var p=function E(){window.removeEventListener(t,E),e.onPrintDialogClose();var m=document.getElementById(e.frameId);m&&m.remove()};window.addEventListener(t,p)}function h(e){var t=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return t.test(e)}},"./src/js/html.js":function(s,a,n){n.r(a);var l=n("./src/js/functions.js"),u=n("./src/js/print.js");function f(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(o){return typeof o}:f=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},f(c)}a.default={print:function(i,o){var y=d(i.printable)?i.printable:document.getElementById(i.printable);if(!y){window.console.error("Invalid HTML element id: "+i.printable);return}i.printableElement=v(y,i),i.header&&Object(l.addHeader)(i.printableElement,i),u.default.send(i,o)}};function v(c,i){for(var o=c.cloneNode(),y=Array.prototype.slice.call(c.childNodes),h=0;h<y.length;h++)if(i.ignoreElements.indexOf(y[h].id)===-1){var e=v(y[h],i);o.appendChild(e)}switch(i.scanStyles&&c.nodeType===1&&o.setAttribute("style",Object(l.collectStyles)(c,i)),c.tagName){case"SELECT":o.value=c.value;break;case"CANVAS":o.getContext("2d").drawImage(c,0,0);break}return o}function d(c){return f(c)==="object"&&c&&(c instanceof HTMLElement||c.nodeType===1)}},"./src/js/image.js":function(s,a,n){n.r(a);var l=n("./src/js/functions.js"),u=n("./src/js/print.js"),f=n("./src/js/browser.js");a.default={print:function(d,c){d.printable.constructor!==Array&&(d.printable=[d.printable]),d.printableElement=document.createElement("div"),d.printable.forEach(function(i){var o=document.createElement("img");if(o.setAttribute("style",d.imageStyle),o.src=i,f.default.isFirefox()){var y=o.src;o.src=y}var h=document.createElement("div");h.appendChild(o),d.printableElement.appendChild(h)}),d.header&&Object(l.addHeader)(d.printableElement,d),u.default.send(d,c)}}},"./src/js/init.js":function(s,a,n){n.r(a);var l=n("./src/js/browser.js"),u=n("./src/js/modal.js"),f=n("./src/js/pdf.js"),v=n("./src/js/html.js"),d=n("./src/js/raw-html.js"),c=n("./src/js/image.js"),i=n("./src/js/json.js");function o(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(t){return typeof t}:o=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(h)}var y=["pdf","html","image","json","raw-html"];a.default={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(g){throw g},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},t=arguments[0];if(t===void 0)throw new Error("printJS expects at least 1 attribute.");switch(o(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":e.printable=t.printable,e.fallbackPrintable=typeof t.fallbackPrintable<"u"?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable;for(var p in e)p==="printable"||p==="fallbackPrintable"||(e[p]=typeof t[p]<"u"?t[p]:e[p]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+o(t))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||typeof e.type!="string"||y.indexOf(e.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&u.default.show(e),e.onLoadingStart&&e.onLoadingStart();var E=document.getElementById(e.frameId);E&&E.parentNode.removeChild(E);var m=document.createElement("iframe");switch(l.default.isFirefox()?m.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):m.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),m.setAttribute("id",e.frameId),e.type!=="pdf"&&(m.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach(function(L){m.srcdoc+='<link rel="stylesheet" href="'+L+'">'})),m.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(l.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var x=window.open(e.fallbackPrintable,"_blank");x.focus(),e.onIncompatibleBrowser()}catch(L){e.onError(L)}finally{e.showModal&&u.default.close(),e.onLoadingEnd&&e.onLoadingEnd()}else f.default.print(e,m);break;case"image":c.default.print(e,m);break;case"html":v.default.print(e,m);break;case"raw-html":d.default.print(e,m);break;case"json":i.default.print(e,m);break}}}},"./src/js/json.js":function(s,a,n){n.r(a);var l=n("./src/js/functions.js"),u=n("./src/js/print.js");function f(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(i){return typeof i}:f=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},f(d)}a.default={print:function(c,i){if(f(c.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof c.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!c.properties||!Array.isArray(c.properties))throw new Error("Invalid properties array for your JSON data.");c.properties=c.properties.map(function(o){return{field:f(o)==="object"?o.field:o,displayName:f(o)==="object"?o.displayName:o,columnSize:f(o)==="object"&&o.columnSize?o.columnSize+";":100/c.properties.length+"%;"}}),c.printableElement=document.createElement("div"),c.header&&Object(l.addHeader)(c.printableElement,c),c.printableElement.innerHTML+=v(c),u.default.send(c,i)}};function v(d){var c=d.printable,i=d.properties,o='<table style="border-collapse: collapse; width: 100%;">';d.repeatTableHeader&&(o+="<thead>"),o+="<tr>";for(var y=0;y<i.length;y++)o+='<th style="width:'+i[y].columnSize+";"+d.gridHeaderStyle+'">'+Object(l.capitalizePrint)(i[y].displayName)+"</th>";o+="</tr>",d.repeatTableHeader&&(o+="</thead>"),o+="<tbody>";for(var h=0;h<c.length;h++){o+="<tr>";for(var e=0;e<i.length;e++){var t=c[h],p=i[e].field.split(".");if(p.length>1)for(var E=0;E<p.length;E++)t=t[p[E]];else t=t[i[e].field];o+='<td style="width:'+i[e].columnSize+d.gridStyle+'">'+t+"</td>"}o+="</tr>"}return o+="</tbody></table>",o}},"./src/js/modal.js":function(s,a,n){n.r(a);var l={show:function(f){var v="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",d=document.createElement("div");d.setAttribute("style",v),d.setAttribute("id","printJS-Modal");var c=document.createElement("div");c.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var i=document.createElement("div");i.setAttribute("class","printClose"),i.setAttribute("id","printClose"),c.appendChild(i);var o=document.createElement("span");o.setAttribute("class","printSpinner"),c.appendChild(o);var y=document.createTextNode(f.modalMessage);c.appendChild(y),d.appendChild(c),document.getElementsByTagName("body")[0].appendChild(d),document.getElementById("printClose").addEventListener("click",function(){l.close()})},close:function(){var f=document.getElementById("printJS-Modal");f&&f.parentNode.removeChild(f)}};a.default=l},"./src/js/pdf.js":function(s,a,n){n.r(a);var l=n("./src/js/print.js"),u=n("./src/js/functions.js");a.default={print:function(d,c){if(d.base64){var i=Uint8Array.from(atob(d.printable),function(y){return y.charCodeAt(0)});f(d,c,i);return}d.printable=/^(blob|http|\/\/)/i.test(d.printable)?d.printable:window.location.origin+(d.printable.charAt(0)!=="/"?"/"+d.printable:d.printable);var o=new window.XMLHttpRequest;o.responseType="arraybuffer",o.addEventListener("error",function(){Object(u.cleanUp)(d),d.onError(o.statusText,o)}),o.addEventListener("load",function(){if([200,201].indexOf(o.status)===-1){Object(u.cleanUp)(d),d.onError(o.statusText,o);return}f(d,c,o.response)}),o.open("GET",d.printable,!0),o.send()}};function f(v,d,c){var i=new window.Blob([c],{type:"application/pdf"});i=window.URL.createObjectURL(i),d.setAttribute("src",i),l.default.send(v,d)}},"./src/js/print.js":function(s,a,n){n.r(a);var l=n("./src/js/browser.js"),u=n("./src/js/functions.js"),f={send:function(o,y){document.getElementsByTagName("body")[0].appendChild(y);var h=document.getElementById(o.frameId);h.onload=function(){if(o.type==="pdf"){l.default.isFirefox()?setTimeout(function(){return v(h,o)},1e3):v(h,o);return}var e=h.contentWindow||h.contentDocument;if(e.document&&(e=e.document),e.body.appendChild(o.printableElement),o.type!=="pdf"&&o.style){var t=document.createElement("style");t.innerHTML=o.style,e.head.appendChild(t)}var p=e.getElementsByTagName("img");p.length>0?d(Array.from(p)).then(function(){return v(h,o)}):v(h,o)}}};function v(i,o){try{if(i.focus(),l.default.isEdge()||l.default.isIE())try{i.contentWindow.document.execCommand("print",!1,null)}catch{i.contentWindow.print()}else i.contentWindow.print()}catch(y){o.onError(y)}finally{l.default.isFirefox()&&(i.style.visibility="hidden",i.style.left="-1px"),Object(u.cleanUp)(o)}}function d(i){var o=i.map(function(y){if(y.src&&y.src!==window.location.href)return c(y)});return Promise.all(o)}function c(i){return new Promise(function(o){var y=function h(){!i||typeof i.naturalWidth>"u"||i.naturalWidth===0||!i.complete?setTimeout(h,500):o()};y()})}a.default=f},"./src/js/raw-html.js":function(s,a,n){n.r(a);var l=n("./src/js/print.js");a.default={print:function(f,v){f.printableElement=document.createElement("div"),f.printableElement.setAttribute("style","width:100%"),f.printableElement.innerHTML=f.printable,l.default.send(f,v)}}},"./src/sass/index.scss":function(s,a,n){},0:function(s,a,n){s.exports=n("./src/index.js")}}).default})})(le);const _=j=>(oe("data-v-34f04cab"),j=j(),re(),j),ie=_(()=>r("h3",null,[r("b",null,"Cancelar Orden")],-1)),se=["onSubmit"],ae=_(()=>r("span",{for:"responsible"},"Responsable",-1)),de=_(()=>r("span",{for:"reason"},"Razón",-1)),ce=_(()=>r("h3",null,[r("b",null,"Cancelar Orden")],-1)),ue=["onSubmit"],fe=_(()=>r("span",{class:"advert",style:{"text-transform":"lowercase",color:"red","font-weight":"bold"}}," Desde el 16 de mayo de 2024, la cancelación de órdenes requerirá autorización.",-1)),pe=_(()=>r("span",{for:"responsible"},"Responsable",-1)),me=_(()=>r("span",{for:"reason"},"Razón",-1)),be={style:{"text-transform":"capitalize"}},ye={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},he={id:"factura",style:{width:"100%"}},ge=_(()=>r("i",{class:"pi pi-whatsapp mr-2"},null,-1)),ve=_(()=>r("br",null,null,-1)),_e={class:"",style:{width:"auto"}},Ee={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},we={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},Oe={style:{padding:"0",color:"black","text-align":"center",margin:"auto","margin-bottom":"1rem",width:"max-content","min-width":"max-content",display:"flex","justify-content":"center","flex-direction":"column"}},xe=_(()=>r("div",{class:"",style:{"font-weight":"bold",color:"white",margin:"0","background-color":"black","align-items":"center",display:"grid","grid-template-columns":"auto auto"}},[r("div",{style:{width:"100%"}},[r("b",null," productos")]),r("div",null,[r("p",{style:{"text-align":"end","font-weight":"bold"}},[r("b",null," total ")])])],-1)),je={style:{display:"grid","grid-template-columns":"auto auto"}},Me={class:"p-0 m-0"},Se=_(()=>r("br",null,null,-1)),Pe={style:{"text-align":"end",color:"black"}},Ce={key:0,class:"p-0 m-0"},Le=_(()=>r("b",null,"COMBO INCLUYE",-1)),Te=[Le],Ae={class:"p-0 m-0 ml-5",style:{}},De={style:{display:"flex",width:"","justify-content":"space-between"},class:"p-0 m-0"},Ie={class:"p-0 m-0 ml-5",style:{}},Be={class:"p-0 m-0",style:{"text-align":"end"}},Re=_(()=>r("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),Ue={class:"",style:{display:"grid",color:"","margin-top":"0.5rem","grid-template-columns":"auto auto"}},Ne=_(()=>r("div",{class:""},[r("span",{style:{"font-weight":"bold"}},[r("b",null,"Subtotal")])],-1)),ze={class:""},We={style:{"text-align":"end","font-weight":"bold",color:"black"}},He=_(()=>r("div",{class:""},[r("span",{style:{"font-weight":"bold"}},[r("b",null,"Domicilio")])],-1)),Ve={class:""},Ke={style:{"text-align":"end","font-weight":"bold",color:"black"}},Fe=_(()=>r("div",{class:""},[r("span",{style:{"font-weight":"bold",color:"black"}},[r("b",null,"Total")])],-1)),$e={class:""},ke={style:{"text-align":"end",color:"black","font-weight":"bold"}},Je=_(()=>r("div",{class:""},null,-1)),Ze=_(()=>r("p",{style:{"font-weight":"bold","background-color":"black",color:"white",padding:"0",margin:"0","margin-top":"0.5rem"}},[r("b",null,"Notas")],-1)),Ge={class:"notas",style:{border:"1px solid",margin:"0",color:"black",padding:"0.5rem"}},Xe=_(()=>r("p",{style:{"background-color":"black","font-weight":"bold","margin-top":"1rem",color:"white"}},[r("b",null,"cliente")],-1)),Ye={style:{display:"grid","grid-template-columns":"auto auto"}},Qe=_(()=>r("div",{class:"",style:{}},[r("span",null,[r("b",null,"NOMBRE")])],-1)),qe={class:""},et={style:{"text-align":"end",color:"black"}},tt=_(()=>r("div",{style:{}},[r("span",null,[r("b",null,"telefono")])],-1)),nt={style:{"text-align":"end",color:"black"}},ot=_(()=>r("div",{style:{}},[r("span",null,[r("b",null,"direccion ")])],-1)),rt={style:{"text-align":"end",color:"black"}},lt=_(()=>r("div",null,[r("span",null,[r("b",null,"metodo de pago")])],-1)),it={style:{"text-align":"end",color:"black"}},st={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},at={class:"mt-3"},dt=_(()=>r("h3",null,[r("b",null,"Cambiar Método de Pago")],-1)),ct=["onSubmit"],ut=_(()=>r("span",{for:"paymentMethod"},"Método de Pago actual",-1)),ft={for:"paymentMethod"},pt=_(()=>r("span",{for:"paymentMethod"},"Nuevo método de Pago",-1)),mt={__name:"DialogoPedido",setup(j){const M=D(!1),s=ne(),a=async()=>{if(l.value)try{await q.put(`${Y}/change-method/${s.currentOrder.order_id}/${l.value}`,`Cambiando método de pago para la orden ${s.currentOrder.order_id}`),n.value=!1,s.visibles.currentOrder=!1,s.getTodayOrders(),console.log("Método de pago cambiado exitosamente")}catch(e){console.error("Error al cambiar el método de pago:",e)}};D(!1);const n=D(!1),l=D(null),u=D([]);X(async()=>{try{const e=await q.get(`${Y}/payment_methods`);u.value=e}catch(e){console.error("Error al obtener métodos de pago:",e)}});const f=async()=>{var t;const e={order_id:s.currentOrder.order_id,responsible:(t=o.value.responsible)==null?void 0:t.name,reason:o.value.reason};await U.create_cancellling_request(e),M.value=!1,s.Notification.pause(),s.Notification.currentTime=0},v=Q(()=>s.currentOrder.pe_json.listaPedidos.reduce((e,t)=>{let p=t.pedido_cantidad*t.pedido_precio;return e+p},0));Q(()=>v.value+s.currentOrder.delivery_price);const d=D(!1),c=()=>{const e=document.getElementById("factura").innerHTML,t=window.open("","_blank");t.document.write("<html><head><title>Factura</title>");const p=document.getElementsByTagName("style");for(let E=0;E<p.length;E++)t.document.write(p[E].outerHTML);t.document.write("<style>  @media print { html{height: min-content;}  *{text-transform:uppercase;align-items:center; width:100%; font-family: sans-serif;padding:0;margin:0; font-size:o.9rem !IMPORTANT} body { padding:0; -webkit-print-color-adjust: exact; /* Chrome, Safari */ color-adjust: exact; /* Firefox */ } }  </style>"),t.document.write("</head><body>"),t.document.write(e),t.document.write("</body></html>"),t.document.close(),t.print(),setTimeout(()=>{t.close()},.01)};X(async()=>{s.currentOrder.value=s.currentOrder});const i=D(!1),o=D({responsible:null,reason:"Sin razon"}),y=D([{name:"Restaurante",value:"restaurant"},{name:"Cliente",value:"client"}]),h=()=>{o.value.responsible&&U.cancelOrder(s.currentOrder.order_id,o.value.reason,o.value.responsible.name).then(e=>{e&&(i.value=!1,console.log("Order canceled successfully"))}).catch(e=>{console.error("Failed to cancel order:",e)})};return(e,t)=>{const p=R("Dropdown"),E=R("Textarea"),m=R("Button"),x=R("Dialog"),L=R("Tag");return P(),I(H,null,[r("div",null,[O(x,{visible:i.value,"onUpdate:visible":t[2]||(t[2]=g=>i.value=g),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:S(()=>[ie]),default:S(()=>[r("form",{onSubmit:K(h,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[ae,O(p,{style:{width:"100%"},id:"responsible",modelValue:o.value.responsible,"onUpdate:modelValue":t[0]||(t[0]=g=>o.value.responsible=g),options:y.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),de,O(E,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:o.value.reason,"onUpdate:modelValue":t[1]||(t[1]=g=>o.value.reason=g),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),O(m,{style:{width:"100%","border-radius":"0.5rem"},label:"cancelar",type:"submit",class:"p-button-danger"})],40,se)]),_:1},8,["visible"]),O(x,{visible:M.value,"onUpdate:visible":t[5]||(t[5]=g=>M.value=g),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:S(()=>[ce]),default:S(()=>[r("form",{onSubmit:K(f,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[fe,pe,O(p,{style:{width:"100%"},id:"responsible",modelValue:o.value.responsible,"onUpdate:modelValue":t[3]||(t[3]=g=>o.value.responsible=g),options:y.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),me,O(E,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:o.value.reason,"onUpdate:modelValue":t[4]||(t[4]=g=>o.value.reason=g),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),O(m,{style:{width:"100%","border-radius":"0.5rem"},label:"solicitar cancelacion",type:"submit",class:"p-button-danger"})],40,ue)]),_:1},8,["visible"]),O(x,{closable:!1,style:{width:"30rem"},modal:"",visible:d.value,"onUpdate:visible":t[8]||(t[8]=g=>d.value=g)},{footer:S(()=>[r("div",ye,[O(m,{text:"",size:"small",onClick:t[6]||(t[6]=()=>{b(U).deliveryZero(b(s).currentOrder.order_id),d.value=!1}),style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"si"}),O(m,{onClick:t[7]||(t[7]=g=>d.value=!1),size:"small",style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"no"})])]),default:S(()=>[r("span",be,[C(" Esta seguro de llevar a $0.00 el valor del domicilio para la orden "),r("b",null,w(b(s).currentOrder.order_id),1),C(" del cliente "),r("b",null,w(b(s).currentOrder.user_name),1),C("? ")])]),_:1},8,["visible"]),O(x,{class:"mx-3",closeOnEscape:"",closable:!1,visible:b(s).visibles.currentOrder,"onUpdate:visible":t[14]||(t[14]=g=>b(s).visibles.currentOrder=g),modal:"",style:{"max-height":"95vh",width:"35rem",position:"relative"}},{footer:S(()=>[r("div",st,[b(s).currentOrder.current_status=="generada"?(P(),W(m,{key:0,size:"small",onClick:t[9]||(t[9]=g=>b(U).prepareOrder(b(s).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"Preparar"})):B("",!0),b(s).currentOrder.current_status=="en preparacion"?(P(),W(m,{key:1,size:"small",onClick:t[10]||(t[10]=g=>b(U).sendOrder(b(s).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"enviar"})):B("",!0),O(m,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:c,severity:"warning",label:"imprimir"}),O(m,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:t[11]||(t[11]=g=>M.value=!0),severity:"danger",label:"CANCELAR "})]),r("div",at,[O(m,{onClick:t[12]||(t[12]=g=>n.value=!0),label:"Cambiar metodo de pago",severity:"success"})])]),default:S(()=>{var g,$,k,J,Z;return[r("div",he,[b(s).currentOrder.responsible_id?(P(),W(L,{key:0,style:{},class:"tag mb-2",severity:"success"},{default:S(()=>[ge,C(" TRANSFERENCIA APROBADA")]),_:1})):B("",!0),C(),ve,b(s).currentOrder.responsible_id?(P(),W(L,{key:1,class:"tag",severity:"success"},{default:S(()=>[C(w(b(s).currentOrder.name),1)]),_:1})):B("",!0),r("div",_e,[r("p",Ee," ID:"+w(b(s).currentOrder.order_id),1),r("p",we,w(b(s).currentOrder.user_name),1),r("p",Oe,[r("b",null," fecha: "+w((g=b(s).currentOrder.latest_status_timestamp)==null?void 0:g.split("T")[0]),1),r("b",null," Hora: "+w((Z=(J=(k=($=b(s).currentOrder.latest_status_timestamp)==null?void 0:$.split("T")[1])==null?void 0:k.split(":"))==null?void 0:J.slice(0,2))==null?void 0:Z.join(":")),1)]),xe,(P(!0),I(H,null,F(b(s).currentOrder.pe_json.listaPedidos,T=>{var G;return P(),I("div",null,[r("div",je,[r("p",Me,[C(w(T.pedido_cantidad)+" "+w(T.pedido_nombre_producto)+" ",1),Se]),r("div",null,[r("p",Pe,w(b(N)(T.pedido_precio*T.pedido_cantidad)),1)])]),T.lista_productocombo?(P(),I("p",Ce,Te)):B("",!0),T.lista_productocombo?(P(!0),I(H,{key:1},F(T.lista_productocombo,A=>(P(),I("p",Ae,[C(" -- "),r("b",null,w(A.pedido_cantidad),1),C(" "+w(A.pedido_nombre),1)]))),256)):B("",!0),(P(!0),I(H,null,F((G=T.modificadorseleccionList)==null?void 0:G.filter(A=>A.pedido_productoid==T.pedido_productoid),A=>(P(),I("div",De,[r("p",Ie,[C(" -- "),r("b",null,w(A.modificadorseleccion_cantidad),1),C(" "+w(A.modificador_nombre),1)]),r("p",Be,w(b(N)(A.pedido_precio*A.modificadorseleccion_cantidad)),1)]))),256)),Re])}),256)),r("div",Ue,[Ne,r("div",ze,[r("p",We,[r("b",null,w(b(N)(b(s).currentOrder.pe_json.delivery.delivery_pagocon-b(s).currentOrder.delivery_price)),1)])]),He,r("div",Ve,[r("p",Ke,[r("b",null,w(b(N)(b(s).currentOrder.delivery_price)),1)])]),Fe,r("div",$e,[r("p",ke,[r("b",null,w(b(N)(b(s).currentOrder.pe_json.delivery.delivery_pagocon)),1)])]),Je]),Ze,r("p",Ge,w(b(s).currentOrder.order_notes),1),Xe,r("div",Ye,[Qe,r("div",qe,[r("p",et,w(b(s).currentOrder.user_name),1)]),tt,r("div",null,[r("p",nt,w(b(s).currentOrder.user_phone),1)]),ot,r("div",null,[r("p",rt,w(b(s).currentOrder.user_address),1)]),lt,r("div",null,[r("p",it,w(b(s).currentOrder.payment_method),1)])])])]),O(m,{class:"shadow-4",onClick:t[13]||(t[13]=T=>b(s).setVisible("currentOrder",!1)),icon:"pi pi-times",rounded:"",severity:"danger",style:{position:"absolute",top:"-1rem","border-radius":"50%",right:"-1rem"}})]}),_:1},8,["visible"])]),O(x,{visible:n.value,"onUpdate:visible":t[16]||(t[16]=g=>n.value=g),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:S(()=>[dt]),default:S(()=>[r("form",{onSubmit:K(a,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[ut,O(L,{class:"px-4",severity:"warning"},{default:S(()=>[r("span",ft,[r("b",null,w(b(s).currentOrder.payment_method),1)])]),_:1}),pt,O(p,{style:{width:"100%"},id:"paymentMethod",modelValue:l.value,"onUpdate:modelValue":t[15]||(t[15]=g=>l.value=g),options:u.value,optionLabel:"name",optionValue:"id",placeholder:"Selecciona un método de pago",required:""},null,8,["modelValue","options"]),O(m,{style:{width:"100%","border-radius":"0.5rem"},label:"Cambiar",type:"submit",class:"p-button-help"})],40,ct)]),_:1},8,["visible"])],64)}}},gt=te(mt,[["__scopeId","data-v-34f04cab"]]);export{gt as D};
