import{_ as k,d as P,o as C,U as N,A as n,r as I,a as r,c as i,e as t,t as a,u as e,F as g,f,v as x,n as T,l as _,b as A,B as R,C as E,D as O,E as S,x as $,m,G as j,P as M,H as D,I as L,J as B}from"./index-8bcaca66.js";import{f as p,a as F,c as w,s as v}from"./dialogo-pedido.vue_vue_type_style_index_0_scoped_7ce1495e_lang-4ee51938.js";const l=d=>(E("data-v-13a73987"),d=d(),O(),d),U={class:"col-12 p-0 m-0 xl:col-12 p-0 md:p-3 texto-negro",style:{width:"100%"}},V=l(()=>t("div",{class:"col-12 p-0",style:{display:"flex"}},[t("img",{class:"m-auto",src:"https://salchimonster.com/images/logo.png",alt:"",style:{height:"4rem",width:"4rem","object-fit":"contain"}})],-1)),q=l(()=>t("p",{class:"text-xl col-12 text-center",style:{"font-weight":"bold"}},"SALCHIMONSTER",-1)),z={class:"text-xl col-12 text-center",style:{"font-weight":"bold"}},H=l(()=>t("p",{class:"text-xl pl-4 negrilla",style:{"font-weight":"bold",color:"white","background-color":"black"}},"ENTREGAR",-1)),G={class:"productos"},J={class:"producto",style:{display:"flex","justify-content":"space-between","align-items":"center","flex-direction":"column"}},K={class:"col-12 p-0",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Q={class:"",style:{"font-weight":"bold","text-transform":"uppercase","min-width":"max-content",margin:"0",padding:"0.5rem 0"}},W={key:0,class:"col-12 p-0 pl-2 mb-0",style:{"font-weight":"bold"}},X={class:"col-12 p-0 pl-1",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Y={class:"pl-2",style:{"text-transform":"uppercase","min-width":"",margin:"0",padding:"0.1rem 0",width:"100%"}},Z={key:1,class:"col-12 p-0 pl-2 mb-0",style:{"font-weight":"bold"}},tt={class:"col-12 p-0 pl-1",style:{display:"flex","justify-content":"space-between","align-items":"center"}},et={class:"pl-2",style:{"text-transform":"uppercase","min-width":"",margin:"0",padding:"0.1rem 0",width:"100%"}},st={style:{"font-weight":"",height:""}},ot={key:2,class:"grid col-12 m-0 p-0"},nt={class:"col-12 p-0 pl-2 mb-0 text-right",style:{"font-weight":"bold"}},at=l(()=>t("div",{style:{width:"100%","border-bottom":"0.1px solid","margin-top":"0rem"}},null,-1)),rt=l(()=>t("br",null,null,-1)),lt={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},it=l(()=>t("span",{style:{"font-weight":"bold"}}," SUBTOTAL ",-1)),dt={style:{"font-weight":"bold"}},ct={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},pt=l(()=>t("span",{style:{"font-weight":"bold"}}," DOMICILIO ",-1)),_t={style:{"font-weight":"bold"}},ut={class:"text-xl",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},mt=l(()=>t("span",{style:{"font-weight":"bold"}}," TOTAL ",-1)),ht={style:{"font-weight":"bold"}},bt=l(()=>t("p",{class:"text-xl pl-4",style:{"font-weight":"bold",color:"white","background-color":"black"}},"NOTAS",-1)),yt=l(()=>t("div",{class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},[t("p",{class:"text-xl pl-4 col-12 py-0 negrilla",style:{"font-weight":"bold",color:"white","background-color":"black"}}," DATOS DE USUARIO")],-1)),gt={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},ft=l(()=>t("span",{style:{"font-weight":"bold"}}," NOMBRE ",-1)),wt={style:{"text-transform":"uppercase"}},xt={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},vt=l(()=>t("span",{style:{"font-weight":"bold"}}," TELEFONO ",-1)),kt={style:{"text-transform":"uppercase"}},It={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},Tt=l(()=>t("span",{style:{"font-weight":"bold"}}," DIRECCIÓN ",-1)),At={style:{"text-transform":"uppercase"}},Rt={class:"text-l",style:{width:"100%",display:"flex","justify-content":"space-between",margin:"1rem 0"}},Et=l(()=>t("span",{style:{"font-weight":"bold"}}," MÉTODO DE PAGO ",-1)),Ot={style:{"text-transform":"uppercase"}},Pt={__name:"factura",setup(d){const y=P({});return C(async()=>{const u=`${N}/user/${n.value.user_id}`;try{const s=await fetch(u);if(!s.ok)throw new Error(`Error en la solicitud: ${s.status}`);const c=await s.json();y.value=c}catch(s){console.error("Error en la solicitud:",s)}}),(u,s)=>{const c=I("P");return r(),i("div",U,[V,q,t("p",z,"ORDEN #"+a(e(n).order_id),1),H,t("div",G,[(r(!0),i(g,null,f(e(w)(e(n).order_products),o=>(r(),i("div",J,[t("div",K,[t("p",Q,[t("span",null,a(o.quantity),1),x(),t("span",null,a(o.product.name),1)]),t("p",{class:T(o.product.adiciones.length<1?"sin-adiciones":"")},a(e(p)(o.quantity*o.product.price)),3)]),o.product.salsas.length>0?(r(),i("p",W,"SALSAS ")):_("",!0),(r(!0),i(g,null,f(o.product.salsas,h=>(r(),i("div",X,[t("p",Y,[t("span",null,a(h),1)])]))),256)),o.product.adiciones.length>0?(r(),i("p",Z," ADICIONES")):_("",!0),(r(!0),i(g,null,f(o.product.adiciones,h=>(r(),i("div",tt,[t("p",et,[t("span",null,a(o.quantity)+" de "+a(h.name),1)]),t("p",st,a(e(p)(o.quantity*h.price)),1)]))),256)),o.product.adiciones.length>0?(r(),i("div",ot,[t("p",nt,a(e(p)(e(F)(o))),1)])):_("",!0),at]))),256)),rt]),t("div",lt,[it,t("span",dt,a(e(p)(e(v)(e(w)(e(n).order_products)))),1)]),t("div",ct,[pt,t("span",_t,a(e(p)(e(n).delivery_price)),1)]),t("div",ut,[mt,t("span",ht,a(e(p)(e(v)(e(w)(e(n).order_products))+e(n).delivery_price)),1)]),bt,A(c,null,{default:R(()=>[x(a(e(n).order_notes),1)]),_:1}),yt,t("div",gt,[ft,t("span",wt,a(e(n).user_data.user_name),1)]),t("div",xt,[vt,t("span",kt,a(e(n).user_data.user_phone),1)]),t("div",It,[Tt,t("span",At,a(e(n).user_data.user_address),1)]),t("div",Rt,[Et,t("span",Ot,a(e(n).payment_method),1)])])}}},Ct=k(Pt,[["__scopeId","data-v-13a73987"]]),b=d=>(E("data-v-7ce1495e"),d=d(),O(),d),Nt={class:"btn_accion_dialogo",style:{position:"absolute",top:"90%",display:"flex",gap:"2rem"}},St=b(()=>t("span",{class:"text-xl p-0",style:{border:"none","font-weight":"bold"}},"PREPARAR",-1)),$t=[St],jt=b(()=>t("span",{class:"text-xl p-0",style:{border:"none","font-weight":"bold"}},"ENVIAR",-1)),Mt=[jt],Dt=b(()=>t("span",{class:"text-xl",style:{border:"none","font-weight":"bold"}},"CANCELAR",-1)),Lt=[Dt],Bt=b(()=>t("span",{class:"text-xl",style:{border:"none","font-weight":"bold"}},"IMPRIMIR",-1)),Ft=[Bt],Ut={__name:"dialogo-pedido",setup(d){const y=()=>{const u=document.getElementById("factura").innerHTML,s=window.open("","_blank");s.document.write("<html><head><title>Factura</title>");const c=document.getElementsByTagName("style");for(let o=0;o<c.length;o++)s.document.write(c[o].outerHTML);s.document.write("<style> @media print { html{height: min-content;} .negrilla{background-color:black !IMPORTANT; color:white !IMPORTANT;} *{ font-family: sans-serif; padding: 0 !IMPORTANT; margin: 0.2rem !IMPORTANT; font-size:0.9rem !IMPORTANT} body { -webkit-print-color-adjust: exact; /* Chrome, Safari */ color-adjust: exact; /* Firefox */ } } </style>"),s.document.write("</head><body>"),s.document.write(u),s.document.write("</body></html>"),s.document.close(),s.print(),setTimeout(()=>{s.close()},.1)};return(u,s)=>{const c=I("Dialog");return r(),S(c,{class:"dialogo",style:$([{"padding-bottom":"7rem","border-radius":"1rem",overflow:"hidden","background-color":"rgb(255, 255, 255)",color:"black"},{width:"40rem"}]),visible:e(m),"onUpdate:visible":s[4]||(s[4]=o=>j(m)?m.value=o:null),modals:"",header:"name",breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:R(()=>[t("button",{class:"btn_cerrar",onClick:s[0]||(s[0]=o=>m.value=!e(m)),style:{"z-index":"99","background-color":"var(--primary-color)",padding:"0.5rem 1rem",border:"none","border-radius":"0.5rem",color:"white",position:"absolute",right:"2rem"}},[t("i",{style:{color:"white","font-weight":"bold","border-radius":"1rem"},class:T(e(M).TIMES)},null,2)]),A(Ct,{class:"factura",id:"factura"}),t("div",Nt,[e(n).order_status.status=="generada"&&e(n).order_status.status!="enviada"?(r(),i("button",{key:0,onClick:s[1]||(s[1]=o=>e(D)(e(n))),style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"0rem 2rem","border-radius":"0.5rem","background-color":"rgb(0, 255, 106)"}},$t)):_("",!0),e(n).order_status.status=="en preparacion"&&e(n).order_status.status!="enviada"?(r(),i("button",{key:1,onClick:s[2]||(s[2]=o=>e(L)(e(n))),style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"0rem 2rem","border-radius":"0.5rem","background-color":"rgb(0, 255, 0)"}},Mt)):_("",!0),e(n).order_status.status!="enviada"?(r(),i("button",{key:2,onClick:s[3]||(s[3]=o=>e(B)(e(n))),style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"1rem 2rem","border-radius":"0.5rem","background-color":"rgb(255, 120, 120)"}},Lt)):_("",!0),t("button",{onClick:y,style:{border:"none","box-shadow":"0 0 1rem rgba(0, 0, 0, 0.5)",padding:"1rem 2rem","border-radius":"0.5rem","background-color":"rgb(255, 246, 120)"}},Ft)])]),_:1},8,["visible"])}}},zt=k(Ut,[["__scopeId","data-v-7ce1495e"]]);export{zt as D};
