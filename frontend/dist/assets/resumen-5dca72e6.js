import{_ as V,f as N,k as F,e as T,d as D,C as E,q as O,w as j,g as C,o,c as n,a as e,F as w,r as x,A as s,z as g,u as t,B as v,i as S,G as A,y as p,D as _,h as f,p as G,b as L}from"./index-57707c05.js";import{o as q}from"./resumen.vue_vue_type_style_index_0_scoped_e0c03dc9_lang-98106281.js";const h=k=>(G("data-v-e0c03dc9"),k=k(),L(),k),M={class:"p-1 my-5 md:my-0 col-12"},U={style:{position:"sticky",top:"5rem","border-radius":"0.5rem","z-index":"1000"},class:"col-12 p-3 p-shadow m-0"},H=h(()=>e("h5",null,[e("b",null,"Resumen")],-1)),J=h(()=>e("h5",null,[e("b",null,"productos")],-1)),K={class:"grid mb-0 pb-0"},Q={class:"col-6 py-2 mb-0 m-0"},W={class:"m-0"},X={style:{"min-width":"3rem",width:"100%1"}},Y={class:"m-0 ml-3",style:{width:"340px"}},Z={style:{"font-weight":"400"}},$={class:"col-6 my-0 text-right py-2"},ee={class:"col-12 p-0 mt-1"},te={class:"mb-0"},oe={class:"mb-1 text-center"},se={style:{display:"flex",width:"100%",gap:"1rem","justify-content":"space-between"}},ne={class:"text adicion",style:{"text-transform":""}},re={key:0,class:"pl-2 text-sm"},le=h(()=>e("hr",{class:"p-0 mt-2"},null,-1)),ae={class:"grid"},ie=h(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Subtotal")])],-1)),ce={class:"col-6 my-0 text-right py-0"},de={class:"col-6 my-0 py-0"},ue=h(()=>e("b",null,"Domicilio",-1)),pe=[ue],_e={class:"col-6 my-0 text-right py-0"},he={key:0,style:{color:"var(--primary-color)"}},ye={key:1},me=h(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Total")])],-1)),be={class:"col-6 my-0 text-right py-0"},ge={__name:"resumen",setup(k){const B=N(!1),i=F(),y=T(),r=D(),z=E(),P=N({}),I=()=>{P.value=y.cart.additions.reduce((a,c)=>{let l=c.group;return a[l]||(a[l]=[]),a[l].push(c),a},{})};return O(()=>{var a;I(),((a=z.user.payment_method_option)==null?void 0:a.id)!=7&&!i.path.includes("reservas")?r.setNeighborhoodPrice():r.setNeighborhoodPriceCero()}),j(()=>y.cart.additions,()=>{I()},{deep:!0}),(a,c)=>{const l=C("Button"),m=C("router-link"),R=C("Tag");return o(),n("div",M,[e("div",U,[H,J,(o(!0),n(w,null,x(t(y).cart.products,d=>(o(),n("div",K,[e("div",Q,[e("h6",W,[e("span",X,[e("b",null,s(d.quantity),1)]),g(" "+s(d.product.productogeneral_descripcion),1)]),(o(!0),n(w,null,x(d.product.lista_productobase,b=>(o(),n("h6",Y,[g(" -- "),e("b",null,s(parseInt(b.productocombo_cantidad*d.quantity)),1),g(),e("span",Z,s(b.producto_descripcion),1)]))),256))]),e("div",$,[e("h6",null,s(t(v)(d.total_cost)),1)])]))),256)),e("div",ee,[(o(!0),n(w,null,x(P.value,(d,b)=>(o(),n("div",{class:"p-0 mb-2",key:b,style:{position:"relative","border-radius":"0.3rem"}},[e("div",te,[e("span",oe,[e("b",null,s(b),1)]),(o(!0),n(w,null,x(d,u=>(o(),n("div",{key:u.aditional_item_instance_id,style:{display:"flex",gap:"1rem","align-items":"center"}},[e("div",se,[e("span",ne,[e("span",null,[e("b",null,s(u.quantity),1)]),g(" "+s(u.name),1)]),u.price>0?(o(),n("span",re,[e("b",null,s(t(v)(u.price*u.quantity)),1)])):S("",!0)])]))),128))])]))),128))]),le,e("div",ae,[ie,e("div",ce,[e("span",null,[e("b",null,s(t(v)(t(y).cart.total_cost)),1)])]),e("div",de,[e("span",{style:A(t(r).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},pe,4)]),e("div",_e,[t(r).location.neigborhood.delivery_price==0?(o(),n("span",he,[e("b",null,s(t(i).path.includes("reservas")?"Ir a la sede":"Recoger en local"),1)])):(o(),n("span",ye,[e("b",null,s(t(v)(t(r).location.neigborhood.delivery_price)),1)]))]),me,e("div",be,[e("span",null,[e("b",null,s(t(v)(t(y).cart.total_cost+t(r).location.neigborhood.delivery_price)),1)])])]),t(i).path.includes("cart")?(o(),p(m,{key:0,to:"/"},{default:_(()=>[f(l,{outlined:"",icon:"pi pi-shopping-cart",label:"Seguir comprando",class:"mt-4",severity:"danger",style:{outline:"none",width:"100%","font-weight":"bold","background-color":"rgba(0, 0, 0, 0)"}})]),_:1})):t(i).path!="/reservas"?(o(),p(m,{key:1,to:"/cart"},{default:_(()=>[f(l,{outlined:"",icon:"pi pi-arrow-left",label:"Volver al carrito",class:"mt-4",severity:"danger",style:{outline:"none",width:"100%","font-weight":"bold","background-color":"rgba(0, 0, 0, 0)"}})]),_:1})):S("",!0),t(r).status=="cerrado"&&t(i).path!="/reservas"?(o(),p(R,{key:2,style:{width:"100%",height:"2.5rem"},class:"mt-2",severity:"danger"},{default:_(()=>[g(" Este Restaurante esta cerrado")]),_:1})):S("",!0),t(i).path.includes("cart")&&t(r).status!="cerrado"?(o(),p(m,{key:3,to:"/pay"},{default:_(()=>[f(l,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"mt-2",severity:"help",style:{outline:"none",width:"100%",border:"none","font-weight":"bold","background-color":"black"}})]),_:1})):t(i).path.includes("reservas")?(o(),p(m,{key:4,to:"/pay"},{default:_(()=>[f(l,{onClick:c[0]||(c[0]=()=>{t(q).sendOrderReserva(),B.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2",severity:"help",style:{outline:"none",width:"100%",border:"none","font-weight":"bold","background-color":"black"}})]),_:1})):t(r).status!="cerrado"?(o(),p(m,{key:5,to:"/pay"},{default:_(()=>[f(l,{onClick:c[1]||(c[1]=()=>{t(q).sendOrder(),B.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2",severity:"help",style:{outline:"none",width:"100%",border:"none","font-weight":"bold","background-color":"black"}})]),_:1})):S("",!0)])])}}},ke=V(ge,[["__scopeId","data-v-e0c03dc9"]]);export{ke as r};
