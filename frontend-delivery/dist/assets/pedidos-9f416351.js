import{_ as y,d as c,q as w,a as o,c as s,e as t,F as u,f as p,u as a,U as I,l as _,v as $,t as d,w as k,n as m,x as f,b as g,i as z,k as P,p as j,h as C,y as S,z as F,m as M}from"./index-37d89982.js";import{D as N}from"./dialogo-pedido-3188962e.js";import"./dialogo-pedido.vue_vue_type_style_index_0_scoped_4dbbefc6_lang-52299bd4.js";const R={class:"col-12"},V={class:"grid pedido align-items-center",style:{color:"white",cursor:"pointer"}},B=["src"],D={key:0,class:"pi pi-check",style:{"font-size":"3rem",color:"var(--primary-color)","font-weight":"bold"}},U={key:1,class:"pi pi-star-fill p-3",style:{"font-size":"3rem",color:"var(--primary-color)","font-weight":"bold"}},E={class:"col text-right m-3 p-0",style:{color:"black","font-weight":"bold","min-width":"max-content"}},O={class:"col text-right m-3 p-0",style:{color:"black","font-weight":"bold","min-width":"max-content"}},T={style:{position:"absolute",top:"50%",left:"50%","z-index":"99",transform:"translate(-50%, -50%)"}},q={__name:"pedidoItem",props:{order:{type:Object,default:{}},estado:{type:Object,default:{}}},setup(r){const i=r,v=c(0),e=c(parseInt(localStorage.getItem(i.order.order_id))||15*60),l=c(Math.floor(e.value/60)),n=c(e.value%60);function b(){i.order.order_status.status==="en preparacion"&&(e.value--,l.value=Math.floor(e.value/60),n.value=e.value%60,localStorage.setItem(i.order.order_id,e.value),v.value=(15*60-e.value)/(15*60)*100,e.value<=0&&(clearInterval(h),alert(`Se terminó el tiempo de preparación de la orden #${i.order.order_id}`)))}const h=setInterval(b,1e3);return w(()=>{clearInterval(h)}),(X,Y)=>(o(),s("div",R,[t("div",V,[(o(!0),s(u,null,p(r.order.order_products,x=>(o(),s("div",null,[t("img",{class:"",style:{width:"60px",height:"60px","object-fit":"contain"},src:`${a(I)}/read_product_image/96/${x.id}`,alt:""},null,8,B)]))),256)),r.estado.order_status=="enviada"?(o(),s("i",D)):_("",!0),r.estado.order_status=="generada"?(o(),s("i",U)):_("",!0),t("span",E,[$(" #"+d(r.order.order_id)+" ",1),t("span",O,d(a(k)(r.order.order_status.timestamp)),1)]),r.order.order_status.status=="en preparacion"?(o(),s("div",{key:2,class:m([l.value==0&&n.value==0?"finalizado":"","countdown-timer m-3"]),style:f([{display:"flex","align-items":"center","justify-content":"center"},{borderRadius:"50%",position:"relative",width:"3rem",height:"3rem"}])},[t("div",T,d(l.value)+":"+d(n.value),1),t("div",{style:f({position:"absolute",width:"100%",height:"100%",borderRadius:"50%",clipPath:"polygon(0 0, 100% 0, 100% 100%, 0% 100%)"})},null,4)],2)):_("",!0)])]))}},A=y(q,[["__scopeId","data-v-94918312"]]);const H={style:{},class:"grid p-0"},L={class:"col-12 lg:col-6 xl:col-4 p-3",style:{}},G={class:"col-12 m-0 mb-3",style:{"background-color":"rgba(255, 255, 255, 0.493)","border-radius":"0.5rem"}},J={class:"text-2xl m-auto col-12",style:{"font-weight":"bold"}},K={class:"col-12 p-0",style:{height:"60vh","overflow-y":"auto"}},Q={class:"col-12 p-0",style:{}},W={__name:"pedidos",setup(r){return(i,v)=>(o(),s(u,null,[t("div",H,[(o(!0),s(u,null,p(a(F),e=>(o(),s("div",L,[t("div",{class:m(["col-12 mb",e.name.split(" ")[0]]),style:{"border-radius":"1rem","box-shadow":"0px 0px 30px rgba(0, 0, 0, 0.3)"}},[t("div",G,[t("span",J,d(e.name),1)]),t("div",K,[(o(!0),s(u,null,p(a(z)(a(P)(a(j),a(C)),e.order_status),l=>(o(),s("div",Q,[g(A,{id:`orden-${l.order_id}`,order:l,estado:e,onClick:n=>a(S)(l)},null,8,["id","order","estado","onClick"])]))),256))])],2)]))),256))]),g(N),t("div",{class:m(a(M)?"before":"")},null,2)],64))}},oe=y(W,[["__scopeId","data-v-7421f73f"]]);export{oe as default};
